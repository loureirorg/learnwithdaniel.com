(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{456:function(t,s){t.exports="data:image/png;base64,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"},457:function(t,s){t.exports="data:image/png;base64,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"},538:function(t,s,a){"use strict";a.r(s);var n=a(21),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("WordPress has two APIs to implement Ajax: "),n("code",[t._v("Ajax API")]),t._v(" and "),n("code",[t._v("REST API")]),t._v(". Let's see how to use them.\n")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("The "),n("code",[t._v("Ajax API")]),t._v(" was the only option for many years. It consists of sending a POST request to "),n("code",[t._v("/wp-admin/admin-ajax.php")]),t._v('. The "admin" in the URL is misleading as it can be used either in the admin or in the front-end.')])]),t._v(" "),n("li",[n("p",[t._v("The "),n("code",[t._v("REST API")]),t._v(" is more recent. WordPress released this API on version 4.4, and it can be considered a more modern approach for Ajax requests. It also allows for custom endpoints.")])])]),t._v(" "),n("p",[t._v("Some people consider the REST API more complex and hard to understand than the Ajax API, but it is up to you to choose one over the other. In the end, they both do the same things.")]),t._v(" "),n("hr"),t._v(" "),n("h2",{attrs:{id:"_1-ajax-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-ajax-api"}},[t._v("#")]),t._v(" 1. Ajax API")]),t._v(" "),n("p",[t._v("To implement an Ajax endpoint, use "),n("code",[t._v("wp_ajax_*")]),t._v(" (for authenticated access) or "),n("code",[t._v("wp_ajax_nopriv_*")]),t._v(" (for unauthenticated access):")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** Ajax route. */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'wp_ajax_my_action'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_action_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'wp_ajax_nopriv_my_action'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_action_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** Ajax callback. */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("my_action_callback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** Dump $_REQUEST as JSON. */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json_encode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$_REQUEST")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wp_die")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Go to the blog main page (ex. "),n("code",[t._v("http://localhost:3000/")]),t._v("), open the browser console (Ctrl+F12) and execute this:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** Ajax call. */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/wp-admin/admin-ajax.php'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  method"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  headers"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  body"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'action=my_action'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("json")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error:'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("It will return the dump of the arguments we sent:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Object "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my_action"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"custom-block success"},[n("p",[t._v("Done!")])]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("In the PHP code, notice that we assigned the same callback for both authenticated and unauthenticated access. This guarantees that we will always answer to the given action.")]),t._v(" "),n("p",[t._v("If you want to use the same callback for both states, use a "),n("code",[t._v("is_user_logged_in()")]),t._v(" in the callback to differentiate these states. Alternatively, you can set two callbacks, one for each state.")]),t._v(" "),n("p",[t._v('If your endpoint is for authenticated users only and you want to ignore unauthenticated users, you can only set the "wp_ajax_*" action.')]),t._v(" "),n("hr"),t._v(" "),n("h2",{attrs:{id:"security-check-permissions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#security-check-permissions"}},[t._v("#")]),t._v(" [SECURITY] Check permissions")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("NEVER")]),t._v(" allow sensitive actions to be executed by unauthenticated users ("),n("code",[t._v("wp_ajax_nopriv")]),t._v(" with no permission checking).")]),t._v(" "),n("li",[n("strong",[t._v("ALWAYS")]),t._v(" check if the user has permissions (ex. "),n("code",[t._v("is_admin()")]),t._v(" or "),n("code",[t._v("current_user_can()")]),t._v(") for authenticated actions.")])]),t._v(" "),n("h2",{attrs:{id:"security-sanitization"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#security-sanitization"}},[t._v("#")]),t._v(" [SECURITY] Sanitization")]),t._v(" "),n("p",[t._v("With few exceptions, you should "),n("strong",[t._v("ALWAYS sanitize the inputs")]),t._v(" before using them:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// my-plugin/my-plugin.php")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$action")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sanitize_text_field")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$_REQUEST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'action'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("The "),n("code",[t._v("sanitize_*")]),t._v(" functions list:")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("sanitize_email()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_file_name()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_html_class()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_key()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_meta()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_mime_type()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_option()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_sql_orderby()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_text_field()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_textarea_field()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_title()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_title_for_query()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_title_with_dashes()")])]),t._v(" "),n("li",[n("code",[t._v("sanitize_user()")])])]),t._v(" "),n("p",[t._v("You can also use PHP's core helpers like "),n("code",[t._v("intval( $value )")]),t._v(" or create your own custom satinization method.")]),t._v(" "),n("h2",{attrs:{id:"security-nonces"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#security-nonces"}},[t._v("#")]),t._v(" [SECURITY] Nonces")]),t._v(" "),n("p",[t._v("Nonces prevent hackers from tricking you into clicking on a link that does a destructive action. If you are logged in as an admin user, a permission checking won't help you if you are tricked to click on a email with a link that deletes all your blog posts.")]),t._v(" "),n("p",[t._v("There are two methods to work with nonces: "),n("code",[t._v("wp_create_nonce()")]),t._v(" and "),n("code",[t._v("check_ajax_referer( $nonce )")]),t._v(". The first method creates a random string to be sent by the Ajax call. The second method verifies if the hash is valid.")]),t._v(" "),n("h2",{attrs:{id:"_2-rest-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-rest-api"}},[t._v("#")]),t._v(" 2. REST API")]),t._v(" "),n("p",[t._v("Let's create this AJAX endpoint, using the REST API: "),n("code",[t._v("GET /my-namespace/v1/something")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("my_method_callback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** The response is automatically converted to JSON. */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_params")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/** Routes should be created in the "rest_api_init" action. */')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'rest_api_init'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register_rest_route")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my-namespace/v1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/something'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'methods'")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'GET'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_method_callback'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("Now open it in your browser:")]),t._v(" "),n("p",[n("code",[t._v("http://localhost:3000/index.php?rest_route=/my-namespace/v1/something")]),t._v(' (change "'),n("em",[t._v("localhost:3000")]),t._v('" to your actual host)')]),t._v(" "),n("p",[n("img",{attrs:{src:a(456),alt:"REST Call on browser"}})]),t._v(" "),n("div",{staticClass:"custom-block success"},[n("p",[t._v("Done!")])]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("The format is: "),n("code",[t._v("{namespace}/{version}/{resource}")]),t._v('. For example, the core WP "users" endpoint is: '),n("code",[t._v("wp/v2/users")]),t._v(".")]),t._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),n("p",[n("strong",[t._v("NEVER")]),t._v(" add endpoints to the wp namespace. Ex. "),n("code",[t._v("wp/1/my-endpoint")]),t._v(". The "),n("code",[t._v("wp")]),t._v(" namespace is reserved for the WordPress core.")])]),t._v(" "),n("h3",{attrs:{id:"_2-1-pretty-urls"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-pretty-urls"}},[t._v("#")]),t._v(" 2.1. Pretty URLs")]),t._v(" "),n("p",[t._v("If your website has pretty permalinks support, then you can call the route directly. Just add a "),n("code",[t._v("/wp-json")]),t._v(" prefix:")]),t._v(" "),n("p",[n("code",[t._v("http://localhost:3000/wp-json/my-namespace/v1/my-method")])]),t._v(" "),n("p",[t._v("Use "),n("code",[t._v("rest_url( $path )")]),t._v(" whenever you need to print the URL. This method detects if the installation supports pretty URLs and writes the correct URL:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$url")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rest_url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my-namespace/v1/something'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("The "),n("code",[t._v("$url")]),t._v(" will be:")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("No pretty URL:")]),t._v(" "),n("code",[t._v("http://localhost:3000/index.php?rest_route=/my-namespace/v1/something")])]),t._v(" "),n("li",[n("strong",[t._v("With pretty URL:")]),t._v(" "),n("code",[t._v("http://localhost:3000/wp-json/my-namespace/v1/something")])])]),t._v(" "),n("h3",{attrs:{id:"_2-2-restful-structure"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-restful-structure"}},[t._v("#")]),t._v(" 2.2. RESTful structure")]),t._v(" "),n("p",[n("strong",[t._v("RESTful")]),t._v(' means to have a resource (ex. "/users") and allow CRUD operations (create, read, update, delete) on it.')]),t._v(" "),n("p",[t._v("The URL is the same for all CRUD operations. Which operation will be executed depends on the HTTP verb (GET, POST, etc):")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("Index")]),t._v(" (get all items): "),n("code",[t._v("GET /users")])]),t._v(" "),n("li",[n("strong",[t._v("Create")]),t._v(" an item: "),n("code",[t._v("POST /users")])]),t._v(" "),n("li",[n("strong",[t._v("Read")]),t._v(" an item: "),n("code",[t._v("GET /users/:id")])]),t._v(" "),n("li",[n("strong",[t._v("Update")]),t._v(" an item: "),n("code",[t._v("PATCH /users/:id")]),t._v(" or "),n("code",[t._v("PUT /users/:id")]),t._v(" or "),n("code",[t._v("POST /users/:id")])]),t._v(" "),n("li",[n("strong",[t._v("Delete")]),t._v(" an item: "),n("code",[t._v("DELETE /users/:id")])])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[n("strong",[t._v("POST or PUT?")]),t._v(" There's an intense debate of which verb should be used to create an item. Some prefer POST, some prefer PUT. WordPress constants imply that you should use POST to create items, so that's my preference.")])]),t._v(" "),n("h2",{attrs:{id:"defining-multiple-actions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#defining-multiple-actions"}},[t._v("#")]),t._v(" Defining multiple actions")]),t._v(" "),n("p",[t._v('Let\'s say you want to add a POST operation to your "/something":')]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register_rest_route")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my-namespace/v1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/something'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'methods'")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'GET'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_method_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'methods'")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'POST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_method2_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("In other words, pass your methods in an array.")]),t._v(" "),n("h3",{attrs:{id:"_2-3-verb-constants"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-verb-constants"}},[t._v("#")]),t._v(" 2.3. Verb Constants")]),t._v(" "),n("p",[t._v("Instead of POST/GET/etc, use the API constants:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register_rest_route")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my-namespace/v1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/something'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'methods'")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("WP_REST_Server")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("READABLE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "READABLE" == "GET"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_method_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("List of constants:")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("READABLE")]),t._v(" (GET)")]),t._v(" "),n("li",[n("code",[t._v("CREATABLE")]),t._v(" (POST)")]),t._v(" "),n("li",[n("code",[t._v("EDITABLE")]),t._v(" (PUT, PATCH)")]),t._v(" "),n("li",[n("code",[t._v("DELETABLE")]),t._v(" (DELETE)")])]),t._v(" "),n("h3",{attrs:{id:"_2-4-success"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-success"}},[t._v("#")]),t._v(" 2.4. Success")]),t._v(" "),n("p",[t._v("Alternatively, you can return a "),n("code",[t._v("WP_REST_Response")]),t._v(" object. This allows you to customize the headers and other things in the response:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/** HTTP code 200 means "Success". */')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WP_REST_Response")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'some'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'result'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_2-5-error"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-error"}},[t._v("#")]),t._v(" 2.5. Error")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/** HTTP code 404 means "Not found". */')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WP_Error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_err_code'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'My err message'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'status'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("Or, with a different syntax:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$error")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WP_Error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$error")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_err_code'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'My err message'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'status'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("404")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_2-6-security-restricting-access-to-the-endpoint"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-security-restricting-access-to-the-endpoint"}},[t._v("#")]),t._v(" 2.6. [SECURITY] Restricting access to the endpoint")]),t._v(" "),n("p",[t._v("Use "),n("code",[t._v("permission_callback")]),t._v(" to validate a request:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register_rest_route")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my-namespace/v1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/something'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'methods'")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("WP_REST_Server")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("READABLE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "READABLE" == "GET"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_method_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'permission_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("current_user_can")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'edit_posts'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_2-7-arguments-parameters"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-arguments-parameters"}},[t._v("#")]),t._v(" 2.7. Arguments (parameters)")]),t._v(" "),n("p",[t._v("For an id, use the regex "),n("code",[t._v("(?P<id>\\d+)")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register_rest_route")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my-namespace/v1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/something/(?P<id>\\d+)'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'methods'")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'GET'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_method_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(457),alt:"Show results on browser"}})]),t._v(" "),n("p",[t._v("Adapt the "),n("code",[t._v("<id>")]),t._v(" to whatever your parameter is called. Also, change the "),n("code",[t._v("\\d+")]),t._v(" if you accept non-numeric values.")]),t._v(" "),n("h3",{attrs:{id:"_2-8-security-validation-and-sanitization"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-security-validation-and-sanitization"}},[t._v("#")]),t._v(" 2.8. [SECURITY] Validation and Sanitization")]),t._v(" "),n("p",[t._v("Use "),n("code",[t._v("args")]),t._v(" to configure your arguments settings. You don't need to define them all, just the ones you need custom settings (validation, sanitization, etc):")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'args'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'id'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** Return true or false. */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'validate_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$param")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$value")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1900")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** Sanitization allows you to clean the parameters. It happens AFTER validation. */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'sanitize_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$param")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("intval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$value")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("p",[t._v("You can use the "),n("code",[t._v("sanitize_*()")]),t._v(" helpers, PHP's core helpers (ex. "),n("code",[t._v("intval()")]),t._v(") or any other methods you like.")]),t._v(" "),n("h4",{attrs:{id:"alternative-method-sanitize-inputs-in-your-callback"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#alternative-method-sanitize-inputs-in-your-callback"}},[t._v("#")]),t._v(" Alternative method  Sanitize inputs in your Callback")]),t._v(" "),n("p",[t._v("A simpler solution is to validate and sanitize the inputs in your callback, not in "),n("code",[t._v("args")]),t._v(":")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("my_method_callback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$parameters")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_params")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$username")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sanitize_text_field")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$parameters")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'username'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** ... */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("I prefer the first method (sanitization in args) because that's how WP wants us to do it. But feel free to decide which one you prefer the most.")])]),t._v(" "),n("h3",{attrs:{id:"_2-9-security-nonces"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-security-nonces"}},[t._v("#")]),t._v(" 2.9. [SECURITY] Nonces")]),t._v(" "),n("p",[t._v("I recommend using Nonces to protect your REST API, especially for the "),n("strong",[t._v("GET methods")]),t._v(" that do destructive actions. Although it's a "),n("strong",[t._v("bad practice")]),t._v(' to implement destructive actions on the GET verb ("'),n("em",[t._v("destructive actions")]),t._v('" means any action that changes the state, like creating a new user).')]),t._v(" "),n("p",[t._v("There are two methods to work with nonces: "),n("code",[t._v("wp_create_nonce()")]),t._v(" and "),n("code",[t._v("check_ajax_referer( $nonce )")]),t._v(". The first method creates a random string to be sent by the Ajax call. The second method verifies if the hash is valid.")]),t._v(" "),n("h2",{attrs:{id:"_3-wp-rest-controller"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-wp-rest-controller"}},[t._v("#")]),t._v(" 3. "),n("code",[t._v("WP_REST_Controller")])]),t._v(" "),n("p",[t._v("Starting on WordPress version "),n("strong",[t._v("4.7")]),t._v(", you can define your REST API by creating a class inherited from the "),n("code",[t._v("WP_REST_Controller")]),t._v(" class. Then, implement a "),n("code",[t._v("register_routes()")]),t._v(" public method that will define your routes:")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" MyRestRouter "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WP_REST_Controller")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register_routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("register_rest_route")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my-namespace/v1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/something'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'methods'")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("WP_REST_Server")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("READABLE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "READABLE" == "GET"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'my_method_callback'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("Notice that you don't need the "),n("code",[t._v("rest_api_init")]),t._v(" action.")])])])}),[],!1,null,null,null);s.default=e.exports}}]);