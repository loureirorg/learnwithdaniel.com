{"remainingRequest":"/home/daniel/projects/1-personal/vuepress-lwd/node_modules/babel-loader/lib/index.js??ref--3-1!/home/daniel/projects/1-personal/vuepress-lwd/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/daniel/projects/1-personal/vuepress-lwd/node_modules/vue-loader/lib/index.js??ref--1-1!/home/daniel/projects/1-personal/vuepress-lwd/node_modules/@vuepress/markdown-loader/index.js??ref--1-2!/home/daniel/projects/1-personal/vuepress-lwd/blog/_posts/2015-02-15-citystate-list-of-countries-cities-and-states-ruby/README.md?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniel/projects/1-personal/vuepress-lwd/blog/_posts/2015-02-15-citystate-list-of-countries-cities-and-states-ruby/README.md","mtime":1606057590822},{"path":"/home/daniel/projects/1-personal/vuepress-lwd/node_modules/cache-loader/dist/cjs.js","mtime":1602965084467},{"path":"/home/daniel/projects/1-personal/vuepress-lwd/node_modules/babel-loader/lib/index.js","mtime":1602965084461},{"path":"/home/daniel/projects/1-personal/vuepress-lwd/node_modules/cache-loader/dist/cjs.js","mtime":1602965084467},{"path":"/home/daniel/projects/1-personal/vuepress-lwd/node_modules/vue-loader/lib/index.js","mtime":1604792111271},{"path":"/home/daniel/projects/1-personal/vuepress-lwd/node_modules/@vuepress/markdown-loader/index.js","mtime":1602965085750}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KJCgnc2VsZWN0W25hbWU9InN0YXRlIl0nKS5jaGFuZ2UoZnVuY3Rpb24gKCkgewogIHZhciBpbnB1dF9zdGF0ZSA9ICQodGhpcyk7CiAgJC5nZXRKU09OKCcvY2l0aWVzLycgKyAkKHRoaXMpLnZhbCgpLCBmdW5jdGlvbiAoZGF0YSkgewogICAgaW5wdXRfc3RhdGUuZW1wdHkoKTsKICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbiAoaSkgewogICAgICB2YXIgb3B0ID0gJzxvcHRpb24gdmFsdWU9JyArIGkgKyAnPicgKyBpICsgJzwvb3B0aW9uPic7CiAgICAgIGlucHV0X3N0YXRlLmFwcGVuZChvcHQpOwogICAgfSk7CiAgfSk7Cn0pOw=="},{"version":3,"sources":["README.md"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA,CAAA,CAAA,sBAAA,CAAA,CAAA,MAAA,CAAA,YAAA;AACA,MAAA,WAAA,GAAA,CAAA,CAAA,IAAA,CAAA;AACA,EAAA,CAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA,IAAA,CAAA,CAAA,GAAA,EAAA,EAAA,UAAA,IAAA,EAAA;AACA,IAAA,WAAA,CAAA,KAAA;AACA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AACA,UAAA,GAAA,GAAA,mBAAA,CAAA,GAAA,GAAA,GAAA,CAAA,GAAA,WAAA;AACA,MAAA,WAAA,CAAA,MAAA,CAAA,GAAA;AACA,KAHA;AAIA,GANA;AAOA,CATA","sourcesContent":["<template>\n<ContentSlotsDistributor :slot-key=\"$parent.slotKey\"><p>Let's say you have a website with a form that asks the user's city and state. How do you populate these fields?</p>\n<p>This requirement is omnipresent in almost every website, and yet there's no library to deal with this.\n<!-- more --></p>\n<p>Maybe it's a regional need, specific to my country, IDK, I just know that is very common for my clients to ask for a form with these fields. So, in my day-to-day programmer's life, I have to copy-and-paste snippets with a list of states and cities.</p>\n<p>I usually do something like this:</p>\n<!--beforebegin--><div class=\"language-erb extra-class\"><!--afterbegin--><pre v-pre class=\"language-erb\"><code><span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%</span> states <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token constant\">AK</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Alaska\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AL</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Alabama\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AR</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Arkansas\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">AZ</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Arizona\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">CA</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"California\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">CO</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Colorado\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">CT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Connecticut\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">DC</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"District of Columbia\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">DE</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Delaware\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">FL</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Florida\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">GA</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Georgia\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">HI</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Hawaii\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">IA</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Iowa\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ID</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Idaho\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">IL</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Illinois\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">IN</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Indiana\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">KS</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Kansas\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">KY</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Kentucky\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">LA</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Louisiana\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MA</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Massachusetts\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MD</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Maryland\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Maine\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MI</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Michigan\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MN</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Minnesota\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MO</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Missouri\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MS</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mississippi\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Montana\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NC</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"North Carolina\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ND</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"North Dakota\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NE</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Nebraska\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NH</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"New Hampshire\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NJ</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"New Jersey\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NM</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"New Mexico\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NV</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Nevada\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NY</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"New York\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">OH</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Ohio\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">OK</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Oklahoma\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">OR</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Oregon\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">PA</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Pennsylvania\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">RI</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Rhode Island\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">SC</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"South Carolina\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">SD</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"South Dakota\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">TN</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Tennessee\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">TX</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Texas\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">UT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Utah\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">VA</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Virginia\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">VT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Vermont\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">WA</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Washington\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">WI</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Wisconsin\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">WV</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"West Virginia\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">WY</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Wyoming\"</span><span class=\"token punctuation\">}</span> <span class=\"token delimiter punctuation\">%></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form[state]<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%</span> states<span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>key<span class=\"token punctuation\">,</span> value<span class=\"token operator\">|</span> <span class=\"token delimiter punctuation\">%></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%=</span> key <span class=\"token delimiter punctuation\">%></span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%=</span> value <span class=\"token delimiter punctuation\">%></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%</span> <span class=\"token keyword\">end</span> <span class=\"token delimiter punctuation\">%></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>Of course, I use a list of states of my own country.</p>\n<p>I do the same thing for the cities (I use a YAML file for them), which isn't a very neat solution – hard coding your data is never a neat solution. Actually, it is even worse, because new cities are created every month in my country (so, the city list gets easily outdated).</p>\n<p>Looking for a better solution, I found this <a href=\"https://github.com/jim/carmen\" target=\"_blank\" rel=\"noopener noreferrer\">Carmen Gem<OutboundLink/></a>, which provides a list of states from every country in the world, but unfortunately, it doesn't provide a list of cities. Also, it has a big and frightening warning that the gem is outdated.</p>\n<p>To solve this problem, I created a gem called <a href=\"https://github.com/loureirorg/city-state\" target=\"_blank\" rel=\"noopener noreferrer\">city-state<OutboundLink/></a>. This gem provides an easy way to get a list of states from a country, and also a list of cities from each state.</p>\n<p>It has an auto-update mechanism, so I don't have to manually update the gem's database from time to time. This prevents it from getting outdated.</p>\n<p>This gem uses the <strong>MaxMind</strong> database, a very popular database used in many websites – usually with the purpose of discovering the IP localization – and it's updated weekly. My logic is that each city/town in the world has at least one IP address assigned to it, making the IP database a reliable source of cities and states.</p>\n<h2 id=\"install\"><a class=\"header-anchor\" href=\"#install\">#</a> Install</h2>\n<!--beforebegin--><div class=\"language-ruby extra-class\"><!--afterbegin--><pre v-pre class=\"language-ruby\"><code><span class=\"token comment\"># Gemfile</span>\ngem <span class=\"token string\">'city-state'</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"usage\"><a class=\"header-anchor\" href=\"#usage\">#</a> Usage</h2>\n<!--beforebegin--><div class=\"language-ruby extra-class\"><!--afterbegin--><pre v-pre class=\"language-ruby\"><code><span class=\"token constant\">CS</span><span class=\"token punctuation\">.</span>states<span class=\"token punctuation\">(</span><span class=\"token symbol\">:us</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># => {:AK=>\"Alaska\", :AL=>\"Alabama\", :AR=>\"Arkansas\", :AZ=>\"Arizona\", :CA=>\"California\", :CO=>\"Colorado\", :CT=>\"Connecticut\", :DC=>\"District of Columbia\", :DE=>\"Delaware\", :FL=>\"Florida\", :GA=>\"Georgia\", :HI=>\"Hawaii\", :IA=>\"Iowa\", :ID=>\"Idaho\", :IL=>\"Illinois\", :IN=>\"Indiana\", :KS=>\"Kansas\", :KY=>\"Kentucky\", :LA=>\"Louisiana\", :MA=>\"Massachusetts\", :MD=>\"Maryland\", :ME=>\"Maine\", :MI=>\"Michigan\", :MN=>\"Minnesota\", :MO=>\"Missouri\", :MS=>\"Mississippi\", :MT=>\"Montana\", :NC=>\"North Carolina\", :ND=>\"North Dakota\", :NE=>\"Nebraska\", :NH=>\"New Hampshire\", :NJ=>\"New Jersey\", :NM=>\"New Mexico\", :NV=>\"Nevada\", :NY=>\"New York\", :OH=>\"Ohio\", :OK=>\"Oklahoma\", :OR=>\"Oregon\", :PA=>\"Pennsylvania\", :RI=>\"Rhode Island\", :SC=>\"South Carolina\", :SD=>\"South Dakota\", :TN=>\"Tennessee\", :TX=>\"Texas\", :UT=>\"Utah\", :VA=>\"Virginia\", :VT=>\"Vermont\", :WA=>\"Washington\", :WI=>\"Wisconsin\", :WV=>\"West Virginia\", :WY=>\"Wyoming\"}</span>\n\n<span class=\"token constant\">CS</span><span class=\"token punctuation\">.</span>cities<span class=\"token punctuation\">(</span><span class=\"token symbol\">:ak</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:us</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># => [\"Adak\", \"Akhiok\", \"Akiachak\", \"Akiak\", \"Akutan\", \"Alakanuk\", \"Ambler\", \"Anchor Point\", \"Anchorage\", \"Angoon\", \"Atqasuk\", \"Barrow\", \"Bell Island Hot Springs\", \"Bethel\", \"Big Lake\", \"Buckland\", \"Chefornak\", \"Chevak\", \"Chicken\", \"Chugiak\", \"Coffman Cove\", \"Cooper Landing\", \"Copper Center\", \"Cordova\", \"Craig\", \"Deltana\", \"Dillingham\", \"Douglas\", \"Dutch Harbor\", \"Eagle River\", \"Eielson Air Force Base\", \"Fairbanks\", \"Fairbanks North Star Borough\", \"Fort Greely\", \"Fort Richardson\", \"Galena\", \"Girdwood\", \"Goodnews Bay\", \"Haines\", \"Homer\", \"Hooper Bay\", \"Juneau\", \"Kake\", \"Kaktovik\", \"Kalskag\", \"Kenai\", \"Ketchikan\", \"Kiana\", \"King Cove\", \"King Salmon\", \"Kipnuk\", \"Klawock\", \"Kodiak\", \"Kongiganak\", \"Kotlik\", \"Koyuk\", \"Kwethluk\", \"Levelock\", \"Manokotak\", \"May Creek\", \"Mekoryuk\", \"Metlakatla\", \"Mountain Village\", \"Nabesna\", \"Naknek\", \"Nazan Village\", \"Nenana\", \"New Stuyahok\", \"Nikiski\", \"Ninilchik\", \"Noatak\", \"Nome\", \"Nondalton\", \"Noorvik\", \"North Pole\", \"Northway\", \"Old Kotzebue\", \"Palmer\", \"Pedro Bay\", \"Petersburg\", \"Pilot Station\", \"Point Hope\", \"Point Lay\", \"Prudhoe Bay\", \"Russian Mission\", \"Sand Point\", \"Scammon Bay\", \"Selawik\", \"Seward\", \"Shungnak\", \"Sitka\", \"Skaguay\", \"Soldotna\", \"Stebbins\", \"Sterling\", \"Sutton\", \"Talkeetna\", \"Teller\", \"Thorne Bay\", \"Togiak\", \"Tok\", \"Toksook Bay\", \"Tuntutuliak\", \"Two Rivers\", \"Unalakleet\", \"Unalaska\", \"Valdez\", \"Wainwright\", \"Wasilla\"]</span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"updating-the-database-from-the-internet\"><a class=\"header-anchor\" href=\"#updating-the-database-from-the-internet\">#</a> Updating the database from the internet</h2>\n<!--beforebegin--><div class=\"language-ruby extra-class\"><!--afterbegin--><pre v-pre class=\"language-ruby\"><code><span class=\"token constant\">CS</span><span class=\"token punctuation\">.</span>update\n</code></pre>\n<!--beforeend--></div><!--afterend--><hr>\n<h2 id=\"how-to-use-it-on-a-form\"><a class=\"header-anchor\" href=\"#how-to-use-it-on-a-form\">#</a> How to use it on a form?</h2>\n<p>Let's say that you have a form and want your user to pick a state and a city. Usually, you have a form like this:</p>\n<!--beforebegin--><div class=\"language-erb extra-class\"><!--afterbegin--><pre v-pre class=\"language-erb\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>state<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>al<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Alabama<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ak<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Alaska<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">></span></span>\n  ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><p>With CityState gem, change your code to this:</p>\n<!--beforebegin--><div class=\"language-erb extra-class\"><!--afterbegin--><pre v-pre class=\"language-erb\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>state<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%</span> <span class=\"token constant\">CS</span><span class=\"token punctuation\">.</span>states<span class=\"token punctuation\">(</span><span class=\"token symbol\">:us</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token operator\">|</span>key<span class=\"token punctuation\">,</span> value<span class=\"token operator\">|</span> <span class=\"token delimiter punctuation\">%></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%=</span> key <span class=\"token delimiter punctuation\">%></span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%=</span> value <span class=\"token delimiter punctuation\">%></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token erb language-erb\"><span class=\"token delimiter punctuation\">&lt;%</span> <span class=\"token keyword\">end</span> <span class=\"token delimiter punctuation\">%></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<!--beforeend--></div><!--afterend--><h2 id=\"how-to-populate-cities-when-the-state-is-changed\"><a class=\"header-anchor\" href=\"#how-to-populate-cities-when-the-state-is-changed\">#</a> How to populate cities when the state is changed?</h2>\n<p>To do this you will need to use Ajax:</p>\n<p>get 'cities/:state', to: 'application#cities'</p>\n<p>Ruby</p>\n<p>def cities\nrender json: CS.cities(params[:state], :us).to_json\nend</p>\n<p>Ruby</p>\n<!-- State list -->\n<select name=\"state\">\n  <% CS.states(:us).each do |key, value| %>\n  <option value=\"<%= key %>\"><%= value %></option>\n  <% end %>\n</select>\n<!-- City list -->\n<select name=\"city\">\n</select>\n<!-- AJAX to load \"City\" according to the selected state -->\n<p>ERB\nTags: gem, rails, ruby\nCopyright 2020 - Daniel Loureiro</p>\n</ContentSlotsDistributor>\n</template>\n<script>\n$('select[name=\"state\"]').change(function () {\n  var input_state = $(this);\n  $.getJSON('/cities/' + $(this).val(), function (data) {\n    input_state.empty();\n    $.each(data, function (i) {\n      var opt = '<option value='+ i +'>' + i + '</option>';\n      input_state.append(opt);\n    });\n  });\n});\n</script>\n\n\n"],"sourceRoot":"blog/_posts/2015-02-15-citystate-list-of-countries-cities-and-states-ruby"}]}