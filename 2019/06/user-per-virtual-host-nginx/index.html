<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NGINX with multiple users | Learn with Daniel - A learner diary</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon-128.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="A learner diary">
    
    <link rel="preload" href="/assets/css/0.styles.e0c1612b.css" as="style"><link rel="preload" href="/assets/js/app.5632ea00.js" as="script"><link rel="preload" href="/assets/js/3.9e1cc85f.js" as="script"><link rel="preload" href="/assets/js/36.853d11aa.js" as="script"><link rel="preload" href="/assets/js/22.2ffb8c95.js" as="script"><link rel="prefetch" href="/assets/js/10.ab7cb67b.js"><link rel="prefetch" href="/assets/js/11.5242956c.js"><link rel="prefetch" href="/assets/js/12.59c1b827.js"><link rel="prefetch" href="/assets/js/13.eb4c0cc0.js"><link rel="prefetch" href="/assets/js/14.cd6385da.js"><link rel="prefetch" href="/assets/js/15.f6ed5cf0.js"><link rel="prefetch" href="/assets/js/16.60e48bf7.js"><link rel="prefetch" href="/assets/js/17.6ade2139.js"><link rel="prefetch" href="/assets/js/18.f3523bb9.js"><link rel="prefetch" href="/assets/js/19.0cd9be83.js"><link rel="prefetch" href="/assets/js/20.74e5d0bb.js"><link rel="prefetch" href="/assets/js/21.057bc373.js"><link rel="prefetch" href="/assets/js/23.45611473.js"><link rel="prefetch" href="/assets/js/24.2c5aaad4.js"><link rel="prefetch" href="/assets/js/25.53994f14.js"><link rel="prefetch" href="/assets/js/26.4b88dd5e.js"><link rel="prefetch" href="/assets/js/27.33da5e65.js"><link rel="prefetch" href="/assets/js/28.e1bc1897.js"><link rel="prefetch" href="/assets/js/29.41a44f48.js"><link rel="prefetch" href="/assets/js/30.b52a01e3.js"><link rel="prefetch" href="/assets/js/31.32e50696.js"><link rel="prefetch" href="/assets/js/32.9870be67.js"><link rel="prefetch" href="/assets/js/33.6be9bedc.js"><link rel="prefetch" href="/assets/js/34.95333d7a.js"><link rel="prefetch" href="/assets/js/35.b90c291b.js"><link rel="prefetch" href="/assets/js/37.fe79cc5b.js"><link rel="prefetch" href="/assets/js/38.aef7ef02.js"><link rel="prefetch" href="/assets/js/39.dca7aa67.js"><link rel="prefetch" href="/assets/js/4.37520176.js"><link rel="prefetch" href="/assets/js/40.d659d938.js"><link rel="prefetch" href="/assets/js/41.83aeacc5.js"><link rel="prefetch" href="/assets/js/42.610c5aca.js"><link rel="prefetch" href="/assets/js/43.e9222b3a.js"><link rel="prefetch" href="/assets/js/44.9858f816.js"><link rel="prefetch" href="/assets/js/45.b0f0f5f2.js"><link rel="prefetch" href="/assets/js/46.492b33ea.js"><link rel="prefetch" href="/assets/js/47.07c3328b.js"><link rel="prefetch" href="/assets/js/48.b2d7476f.js"><link rel="prefetch" href="/assets/js/49.9fd583ed.js"><link rel="prefetch" href="/assets/js/5.b259d54e.js"><link rel="prefetch" href="/assets/js/50.9e6ef79d.js"><link rel="prefetch" href="/assets/js/51.8c3776f7.js"><link rel="prefetch" href="/assets/js/52.92a4b980.js"><link rel="prefetch" href="/assets/js/53.3e72d3bc.js"><link rel="prefetch" href="/assets/js/54.e1e107ff.js"><link rel="prefetch" href="/assets/js/55.418768d6.js"><link rel="prefetch" href="/assets/js/56.95ca3ac0.js"><link rel="prefetch" href="/assets/js/57.ea7fb933.js"><link rel="prefetch" href="/assets/js/58.40c5610c.js"><link rel="prefetch" href="/assets/js/59.5af9d54f.js"><link rel="prefetch" href="/assets/js/6.70c0bce3.js"><link rel="prefetch" href="/assets/js/60.0c66c22f.js"><link rel="prefetch" href="/assets/js/61.05b88817.js"><link rel="prefetch" href="/assets/js/62.483e5481.js"><link rel="prefetch" href="/assets/js/63.6ab28e82.js"><link rel="prefetch" href="/assets/js/7.8d26dacd.js"><link rel="prefetch" href="/assets/js/8.6beb7cbb.js"><link rel="prefetch" href="/assets/js/9.5015eb07.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.92df942c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e0c1612b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="dark:bg-gray-1000 bg-white dark:text-sepia text-gray-900" data-v-335698aa><header class="border-b-4 dark:border-green-700 border-primary" data-v-335698aa><div class="container mx-auto flex h-20 px-6 items-center"><a href="/" class="dark:text-green-700 text-primary text-3xl router-link-active">
            Learn With Daniel
        </a></div></header> <div class="container mx-auto px-6 md:px-16 py-8 max-w-screen-md" data-v-335698aa><div class="py-8 md:py-16" data-v-335698aa><div data-v-335698aa><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    Nginx
                </span><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    Linux
                </span><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    Web-server
                </span><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    Security
                </span></div> <h1 class="dark:text-green-500 text-4xl md:text-6xl py-6" data-v-335698aa>NGINX with multiple users</h1> <p class="author text-sm" data-v-335698aa>
                by <span class="text-base font-bold" data-v-335698aa>Daniel Loureiro</span>
                on <time class="mr-3" data-v-335698aa>Jun 5, 2019</time> <span class="reading-time text-xs uppercase py-4 block md:inline-block md:py-9" data-v-335698aa><vp-icon size="1.5em" name="clock-best" class="inline-block" data-v-335698aa></vp-icon>
                    2 min read
                </span></p></div> <div class="post-wrap text-xl leading-10 pb-8" data-v-335698aa><div class="content__default" data-v-335698aa><p>For security reasons, you shouldn't run all your NGINX virtual hosts with the same user.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>See <strong>why</strong> it's a bad practice to run all sites on the same user at the <a href="#why-to-use-multiple-users-security-reasons">end of this article</a>.</p></div> <p>Considering that you are using PHP-FPM (you probably are, as it is the most usual), you can create a spool, owned by a different user, for each domain.</p> <h2 id="_1-create-spools"><a href="#_1-create-spools" class="header-anchor">#</a> 1. Create spools</h2> <p>Add the spools to <code>/etc/php/{php-version}/fpm/pool.d/www.conf</code> or create a new <code>.conf</code> file for each new spool.</p> <h3 id="spool-1-myuser1-mygroup1"><a href="#spool-1-myuser1-mygroup1" class="header-anchor">#</a> Spool #1 (myuser1/mygroup1)</h3> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token selector">[myprojectuser1]</span>
<span class="token constant">user</span> <span class="token attr-value"><span class="token punctuation">=</span> myuser1</span>
<span class="token constant">group</span> <span class="token attr-value"><span class="token punctuation">=</span> mygroup1</span>
..
<span class="token constant">listen</span> <span class="token attr-value"><span class="token punctuation">=</span> /run/php/myuser1.sock</span>
...
<span class="token constant">listen.owner</span> <span class="token attr-value"><span class="token punctuation">=</span> www-data</span>
<span class="token constant">listen.group</span> <span class="token attr-value"><span class="token punctuation">=</span> www-data</span>
</code></pre></div><h3 id="spool-2-myuser2-mygroup2"><a href="#spool-2-myuser2-mygroup2" class="header-anchor">#</a> Spool #2 (myuser2/mygroup2)</h3> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token selector">[myprojectuser2]</span>
<span class="token constant">user</span> <span class="token attr-value"><span class="token punctuation">=</span> myuser2</span>
<span class="token constant">group</span> <span class="token attr-value"><span class="token punctuation">=</span> mygroup2</span>
..
<span class="token constant">listen</span> <span class="token attr-value"><span class="token punctuation">=</span> /run/php/myuser2.sock</span>
...
<span class="token constant">listen.owner</span> <span class="token attr-value"><span class="token punctuation">=</span> www-data</span>
<span class="token constant">listen.group</span> <span class="token attr-value"><span class="token punctuation">=</span> www-data</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Settings <code>listen.owner</code> and <code>listen.group</code> are your NGINX user (usually <code>www-data</code>).</p></div> <h2 id="_2-assign-each-spool-to-its-server-block"><a href="#_2-assign-each-spool-to-its-server-block" class="header-anchor">#</a> 2. Assign each spool to its server block</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>A virtual host is called &quot;server block&quot; on NGINX world.</p></div> <h3 id="host-1"><a href="#host-1" class="header-anchor">#</a> Host 1</h3> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token keyword">server</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">location</span> <span class="token operator">~</span> \<span class="token punctuation">.</span>php$ <span class="token punctuation">{</span>
    <span class="token keyword">fastcgi_pass</span> unix<span class="token punctuation">:</span><span class="token operator">/</span>run<span class="token operator">/</span>php<span class="token operator">/</span>myuser1<span class="token punctuation">.</span>sock<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="host-2"><a href="#host-2" class="header-anchor">#</a> Host 2</h3> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token keyword">server</span> <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">location</span> <span class="token operator">~</span> \<span class="token punctuation">.</span>php$ <span class="token punctuation">{</span>
    <span class="token keyword">fastcgi_pass</span> unix<span class="token punctuation">:</span><span class="token operator">/</span>run<span class="token operator">/</span>php<span class="token operator">/</span>myuser2<span class="token punctuation">.</span>sock<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_3-restart-fpm-and-nginx-services"><a href="#_3-restart-fpm-and-nginx-services" class="header-anchor">#</a> 3. Restart FPM and NGINX services</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> /etc/init.d/php7.0-fpm restart
<span class="token function">sudo</span> <span class="token function">service</span> nginx restart
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>RESTART <code>fpm service</code> when you change the fpm settings.</p></div> <h2 id="_4-testing"><a href="#_4-testing" class="header-anchor">#</a> 4. Testing</h2> <p>Create a <code>pinfo.php</code> file (or whatever name) that will show the current process user:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// pinfo.php</span>
<span class="token keyword">echo</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;\n&quot;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'&lt;br&gt;'</span><span class="token punctuation">,</span> <span class="token function">shell_exec</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ps -u -p '</span><span class="token operator">.</span><span class="token function">getmypid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Then open &quot;<a href="http://.../pinfo.php" target="_blank" rel="noopener noreferrer">http://.../pinfo.php<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>&quot; on your browser:
<img src="data:image/png;base64,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" alt="Previous code result on browser"></p> <hr> <h2 id="why-to-use-multiple-users-security-reasons"><a href="#why-to-use-multiple-users-security-reasons" class="header-anchor">#</a> Why to use multiple users (security reasons)</h2> <p>If you run all your websites on the same user (<code>www-data</code>), a PHP call to <code>system()</code> / <code>passthru()</code> / <code>exec()</code> will have access to all your websites! <strong>NGINX will not protect you against this.</strong> PHP is just an example, but any popular web-server language has similar calls.</p> <p>As a hacker, you can &quot;<code>ls ..</code>&quot; to navigate through all websites and &quot;<code>cp</code>/<code>echo</code>/<code>mv</code>&quot; to write your own code on any file (including another website files). Even if all websites on the server are owned by the same person (ex. you) it's advisable to run each website with a different user, as it will prevent eventual hackers/virus (ex. WordPress viruses) from accessing your other websites.</p></div></div> <hr class="my-12" data-v-335698aa> <div data-v-335698aa><h2 class="text-xl md:text-3xl pb-10 text-center" data-v-335698aa>Comments</h2> <!----></div></div> <footer class="py-4 bg-gray-800" data-v-335698aa><p class="text-center text-gray-600 text-xs">Copyright 2022 - Daniel Loureiro</p></footer></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.5632ea00.js" defer></script><script src="/assets/js/3.9e1cc85f.js" defer></script><script src="/assets/js/36.853d11aa.js" defer></script><script src="/assets/js/22.2ffb8c95.js" defer></script>
  </body>
</html>
