<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating a Plugin file for WordPress | Learn with Daniel - A learner diary</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon-128.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="A learner diary">
    
    <link rel="preload" href="/assets/css/0.styles.e0c1612b.css" as="style"><link rel="preload" href="/assets/js/app.5632ea00.js" as="script"><link rel="preload" href="/assets/js/3.9e1cc85f.js" as="script"><link rel="preload" href="/assets/js/13.eb4c0cc0.js" as="script"><link rel="preload" href="/assets/js/22.2ffb8c95.js" as="script"><link rel="prefetch" href="/assets/js/10.ab7cb67b.js"><link rel="prefetch" href="/assets/js/11.5242956c.js"><link rel="prefetch" href="/assets/js/12.59c1b827.js"><link rel="prefetch" href="/assets/js/14.cd6385da.js"><link rel="prefetch" href="/assets/js/15.f6ed5cf0.js"><link rel="prefetch" href="/assets/js/16.60e48bf7.js"><link rel="prefetch" href="/assets/js/17.6ade2139.js"><link rel="prefetch" href="/assets/js/18.f3523bb9.js"><link rel="prefetch" href="/assets/js/19.0cd9be83.js"><link rel="prefetch" href="/assets/js/20.74e5d0bb.js"><link rel="prefetch" href="/assets/js/21.057bc373.js"><link rel="prefetch" href="/assets/js/23.45611473.js"><link rel="prefetch" href="/assets/js/24.2c5aaad4.js"><link rel="prefetch" href="/assets/js/25.53994f14.js"><link rel="prefetch" href="/assets/js/26.4b88dd5e.js"><link rel="prefetch" href="/assets/js/27.33da5e65.js"><link rel="prefetch" href="/assets/js/28.e1bc1897.js"><link rel="prefetch" href="/assets/js/29.41a44f48.js"><link rel="prefetch" href="/assets/js/30.b52a01e3.js"><link rel="prefetch" href="/assets/js/31.32e50696.js"><link rel="prefetch" href="/assets/js/32.9870be67.js"><link rel="prefetch" href="/assets/js/33.6be9bedc.js"><link rel="prefetch" href="/assets/js/34.95333d7a.js"><link rel="prefetch" href="/assets/js/35.b90c291b.js"><link rel="prefetch" href="/assets/js/36.853d11aa.js"><link rel="prefetch" href="/assets/js/37.fe79cc5b.js"><link rel="prefetch" href="/assets/js/38.aef7ef02.js"><link rel="prefetch" href="/assets/js/39.dca7aa67.js"><link rel="prefetch" href="/assets/js/4.37520176.js"><link rel="prefetch" href="/assets/js/40.d659d938.js"><link rel="prefetch" href="/assets/js/41.83aeacc5.js"><link rel="prefetch" href="/assets/js/42.610c5aca.js"><link rel="prefetch" href="/assets/js/43.e9222b3a.js"><link rel="prefetch" href="/assets/js/44.9858f816.js"><link rel="prefetch" href="/assets/js/45.b0f0f5f2.js"><link rel="prefetch" href="/assets/js/46.492b33ea.js"><link rel="prefetch" href="/assets/js/47.07c3328b.js"><link rel="prefetch" href="/assets/js/48.b2d7476f.js"><link rel="prefetch" href="/assets/js/49.9fd583ed.js"><link rel="prefetch" href="/assets/js/5.b259d54e.js"><link rel="prefetch" href="/assets/js/50.9e6ef79d.js"><link rel="prefetch" href="/assets/js/51.8c3776f7.js"><link rel="prefetch" href="/assets/js/52.92a4b980.js"><link rel="prefetch" href="/assets/js/53.3e72d3bc.js"><link rel="prefetch" href="/assets/js/54.e1e107ff.js"><link rel="prefetch" href="/assets/js/55.418768d6.js"><link rel="prefetch" href="/assets/js/56.95ca3ac0.js"><link rel="prefetch" href="/assets/js/57.ea7fb933.js"><link rel="prefetch" href="/assets/js/58.40c5610c.js"><link rel="prefetch" href="/assets/js/59.5af9d54f.js"><link rel="prefetch" href="/assets/js/6.70c0bce3.js"><link rel="prefetch" href="/assets/js/60.0c66c22f.js"><link rel="prefetch" href="/assets/js/61.05b88817.js"><link rel="prefetch" href="/assets/js/62.483e5481.js"><link rel="prefetch" href="/assets/js/63.6ab28e82.js"><link rel="prefetch" href="/assets/js/7.8d26dacd.js"><link rel="prefetch" href="/assets/js/8.6beb7cbb.js"><link rel="prefetch" href="/assets/js/9.5015eb07.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.92df942c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e0c1612b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="dark:bg-gray-1000 bg-white dark:text-sepia text-gray-900" data-v-335698aa><header class="border-b-4 dark:border-green-700 border-primary" data-v-335698aa><div class="container mx-auto flex h-20 px-6 items-center"><a href="/" class="dark:text-green-700 text-primary text-3xl router-link-active">
            Learn With Daniel
        </a></div></header> <div class="container mx-auto px-6 md:px-16 py-8 max-w-screen-md" data-v-335698aa><div class="py-8 md:py-16" data-v-335698aa><div data-v-335698aa><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    WordPress
                </span><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    PHP
                </span></div> <h1 class="dark:text-green-500 text-4xl md:text-6xl py-6" data-v-335698aa>Creating a Plugin file for WordPress</h1> <p class="author text-sm" data-v-335698aa>
                by <span class="text-base font-bold" data-v-335698aa>Daniel Loureiro</span>
                on <time class="mr-3" data-v-335698aa>Jun 6, 2019</time> <span class="reading-time text-xs uppercase py-4 block md:inline-block md:py-9" data-v-335698aa><vp-icon size="1.5em" name="clock-best" class="inline-block" data-v-335698aa></vp-icon>
                    13 min read
                </span></p></div> <div class="post-wrap text-xl leading-10 pb-8" data-v-335698aa><div class="content__default" data-v-335698aa><p>Let's put our code in an actual plugin instead of using <code>functions.php</code>.
</p> <p>Let's create our <code>my-plugin</code> plugin with <code>wp-cli</code>. In the WordPress root folder, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>wp scaffold plugin my-plugin
  Success: Created plugin files.
  Success: Created <span class="token builtin class-name">test</span> files.
</code></pre></div><p>This command creates a <code>my-plugin</code> folder inside the <code>wp-content/plugins</code> folder:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>tree wp-content/plugins/my-plugin
  wp-content/plugins/my-plugin
  ├── bin
  │   └── install-wp-tests.sh
  ├── Gruntfile.js
  ├── my-plugin.php
  ├── package.json
  ├── phpunit.xml.dist
  ├── readme.txt
  └── tests
      ├── bootstrap.php
      └── test-sample.php

  <span class="token number">2</span> directories, <span class="token number">8</span> files
</code></pre></div><p>Go to <code>Plugins</code> and activate the plugin:
<img src="/assets/img/28.a1e7be34.png" alt="Activating plugin on WP"></p> <p>Now, open the <code>my-plugin/my-plugin.php</code> file. This is the entry point for our plugin:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * Plugin Name:     My Plugin
 * Plugin URI:      PLUGIN SITE HERE
 * Description:     PLUGIN DESCRIPTION HERE
 * Author:          YOUR NAME HERE
 * Author URI:      YOUR SITE HERE
 * Text Domain:     my-plugin
 * Domain Path:     /languages
 * Version:         0.1.0
 *
 * @package         My_Plugin
 */</span>

<span class="token comment">// Your code starts here.</span>
</span></code></pre></div><p>And replace the <code>// Your code ...</code> with <code>echo 'Hello, World!'</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * Plugin Name:     My Plugin
 * Plugin URI:      PLUGIN SITE HERE
 * Description:     PLUGIN DESCRIPTION HERE
 * Author:          YOUR NAME HERE
 * Author URI:      YOUR SITE HERE
 * Text Domain:     my-plugin
 * Domain Path:     /languages
 * Version:         0.1.0
 *
 * @package         My_Plugin
 */</span>

<span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello, World!'</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Now, open the home page:
<img src="data:image/png;base64,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" alt="Home page with a Hello World"></p> <p>Notice the &quot;<strong>Hello, World!</strong>&quot; on the top left. Open the source code and notice that it is the very first string of the code.</p> <p><img src="/assets/img/wp-plugin3.c2436481.jpeg" alt="Source code with a hello world at beginning"></p> <div class="custom-block success"><p>Congratulations! You have created a WordPress plugin!!!</p></div> <hr> <h2 id="_4-enable-debug-mode"><a href="#_4-enable-debug-mode" class="header-anchor">#</a> 4. Enable debug mode</h2> <p>Set <code>define('WP_DEBUG', true)</code> on your <code>wp-config.php</code> (the constant is already defined, just change the value to <code>true</code>):</p> <div class="language-php extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-php"><code><span class="token comment">// wp-config.php</span>
<span class="token comment">/**
 * For developers: WordPress debugging mode.
 *
 * Change this to true to enable the display of notices during development.
 * It is strongly recommended that plugin and theme developers use WP_DEBUG
 * in their development environments.
 *
 * For information on other constants that can be used for debugging,
 * visit the Codex.
 *
 * @link https://codex.wordpress.org/Debugging_in_WordPress
 */</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'WP_DEBUG'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* That's all, stop editing! Happy publishing. */</span>

<span class="token comment">/** Absolute path to the WordPress directory. */</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">defined</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'ABSPATH'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">define</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'ABSPATH'</span><span class="token punctuation">,</span> <span class="token function">dirname</span><span class="token punctuation">(</span> <span class="token constant">__FILE__</span> <span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/** Sets up WordPress vars and included files. */</span>
<span class="token keyword">require_once</span><span class="token punctuation">(</span> <span class="token constant">ABSPATH</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'wp-settings.php'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The log is going to be saved to <code>wp-content/debug.log</code></p></div> <h2 id="_5-change-the-headers"><a href="#_5-change-the-headers" class="header-anchor">#</a> 5. Change the headers</h2> <p>Adapt the headers with your information: <code>plugin name</code>, <code>URL</code>, <code>version</code>, etc.</p> <p>Also, <strong>delete the &quot;echo&quot;</strong> command.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * Plugin Name:     My Plugin
 * Description:     My first plugin.
 * Author:          John Snow
 * Text Domain:     my-plugin
 * Domain Path:     /languages
 * Version:         20190604
 *
 * @package         My_Plugin
 */</span>

<span class="token comment">// echo 'Hello, World!';</span>
</span></code></pre></div><p>Save and reload the plugins page:
<img src="data:image/png;base64,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" alt="Plugin activation on WP"></p> <p><code>Text Domain</code> and <code>Domain Path</code> are optional and used for internationalization (translation). If omitted, &quot;Text Domain&quot; is the plugin slug (ex. &quot;my-plugin&quot;). &quot;Domain Path&quot; is only necessary if your plugin is not in the WP official plugin repository. If not published there, leave the &quot;/languages&quot; set.</p> <h2 id="_6-security-prevent-direct-access-to-your-file"><a href="#_6-security-prevent-direct-access-to-your-file" class="header-anchor">#</a> 6. Security: Prevent direct access to your file</h2> <p>Prevent direct access to your file with <code>defined( 'ABSPATH' ) || exit;</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * Plugin Name:     My Plugin
 * Description:     My first plugin.
 * Author:          John Snow
 * Text Domain:     my-plugin
 * Domain Path:     /languages
 * Version:         20190604
 *
 * @package         My_Plugin
 */</span>

<span class="token function">defined</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'ABSPATH'</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">exit</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="_7-the-plugin-class"><a href="#_7-the-plugin-class" class="header-anchor">#</a> 7. The plugin class</h2> <h3 id="next-step-is-to"><a href="#next-step-is-to" class="header-anchor">#</a> Next step is to</h3> <ul><li>Create a class (&quot;MyPlugin&quot;);</li> <li>Put initialization code in <code>__construct()</code>;</li> <li>Create an instance object;</li> <li>Save the instance as a global variable (optional), so it can be accessed anywhere;</li> <li>Do not create if the class already exists;</li></ul> <h3 id="the-resulting-code"><a href="#the-resulting-code" class="header-anchor">#</a> The resulting code</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// my-plugin/my-plugin.php</span>
<span class="token comment">// Our plugin class</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">class_exists</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'MyPlugin'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">MyPlugin</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// init code...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// The instance</span>
  <span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'my_plugin'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-optional-good-practice-do-not-use-globals"><a href="#_8-optional-good-practice-do-not-use-globals" class="header-anchor">#</a> 8. (OPTIONAL) Good Practice: Do not use globals</h2> <p>Saving the instance as a global object is not the best solution.</p> <p>A better approach is to define a global <code>my_plugin()</code> function that returns the current instance. This function is just an alias to the &quot;instance()&quot; method, so we don't need to call &quot;MyPlugin::instance()&quot;.</p> <div class="language-php extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-php"><code><span class="token comment">// my-plugin/my-plugin.php</span>
<span class="token comment">// Our plugin class</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">class_exists</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'MyPlugin'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">MyPlugin</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// init code...</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Main instance</span>
    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$_instance</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">is_null</span><span class="token punctuation">(</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$_instance</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$_instance</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$_instance</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Returns the main instance to prevent the need to use globals.</span>
  <span class="token keyword">function</span> <span class="token function">my_plugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name static-context">MyPlugin</span><span class="token operator">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">my_plugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_9-optional-good-practice-keep-class-definitions-in-separated-files"><a href="#_9-optional-good-practice-keep-class-definitions-in-separated-files" class="header-anchor">#</a> 9. (OPTIONAL) Good Practice: Keep class definitions in separated files</h2> <p>According to the PSR-1 coding standard:</p> <blockquote><p>A file should declare new symbols (classes, functions, constants, etc.) and cause no other side effects, or it should execute logic with side effects, but should not do both.</p></blockquote> <p>This means: <strong>You shouldn't have class definitions and commands in the same file.</strong></p> <h3 id="incorrect"><a href="#incorrect" class="header-anchor">#</a> Incorrect</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">&lt;!-- my-plugin.php --&gt;</span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">MyPlugin</span> <span class="token punctuation">{</span>
 <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token variable">$x</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><h3 id="correct"><a href="#correct" class="header-anchor">#</a> Correct</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">&lt;!-- my-plugin.php --&gt;</span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">include</span> <span class="token string single-quoted-string">'class-myplugin.php'</span><span class="token punctuation">;</span> <span class="token comment">/** Class file names should start with &quot;class-&quot; */</span>

<span class="token variable">$x</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">&lt;!-- class-myplugin.php --&gt;</span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">MyPlugin</span> <span class="token punctuation">{</span>
 <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>Notice the &quot;class-&quot; filename prefix. According to the WordPress coding standard, a class filename should start with a &quot;class-&quot; prefix.</p> <h3 id="optional-autoloader-psr-4"><a href="#optional-autoloader-psr-4" class="header-anchor">#</a> [OPTIONAL] Autoloader (PSR-4)</h3> <p>To improve your code even more, you should replace the code that &quot;check if the class exists/loads class file/create instance&quot; with the standard PHP autoloader:</p> <div class="language-php extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * Plugin Name:     My Plugin
 * Description:     My first plugin.
 * Author:          John Snow
 * Text Domain:     my-plugin
 * Domain Path:     /languages
 * Version:         20190604
 *
 * @package         My_Plugin
 */</span>

<span class="token function">defined</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'ABSPATH'</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">exit</span><span class="token punctuation">;</span>

<span class="token comment">/** First, define your auto-load function. */</span>
<span class="token keyword">function</span> <span class="token function">my_plugin_autoload</span><span class="token punctuation">(</span> <span class="token variable">$class_name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/** &quot;A_NewClass&quot; is in the &quot;class-a-newclass.php&quot; file. */</span>
  <span class="token variable">$class_name</span> <span class="token operator">=</span> <span class="token function">strtolower</span><span class="token punctuation">(</span> <span class="token variable">$class_name</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$class_name</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'_'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'-'</span><span class="token punctuation">,</span> <span class="token variable">$class_name</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$file_name</span>  <span class="token operator">=</span> <span class="token function">dirname</span><span class="token punctuation">(</span> <span class="token constant">__FILE__</span> <span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;/class-<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$class_name</span><span class="token punctuation">}</span></span>.php&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">file_exists</span><span class="token punctuation">(</span> <span class="token variable">$file_name</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Check if file exists.</span>
    <span class="token keyword">include_once</span> <span class="token variable">$file_name</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/** Next, register it with PHP. */</span>
<span class="token function">spl_autoload_register</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'my_plugin_autoload'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** Create instance. */</span>
<span class="token class-name static-context">MyPlugin</span><span class="token operator">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>PHP won't load the class until it reaches <code>MyPlugin::instance()</code>. At this point, it will check if the &quot;MyPlugin&quot; class exists. As it doesn't exist, it will call <code>my_plugin_autoload( 'MyPlugin' )</code>, loading the class and proceeding with the execution.</p> <p>The use of an autoloader saves CPU and memory resources, as it doesn't load unnecessary classes.</p> <hr> <p>With this solution, just save your new classes in a <code>class-&lt;my-class-name-lowercased&gt;.php</code> file and call the class as if the file was already loaded.</p> <p>For a &quot;A_NewClass&quot; class, use &quot;class-a_newclass.php&quot; as the filename. You don't need to touch the above code, nor to call include/require to load the new class. Just create the file and whenever you call the class, PHP will autoload it.</p> <p>Don't forget to rename the &quot;my_plugin_autoload()&quot; with something unique to your plugin - I recommend using your plugin name as the prefix. Also, you may want to change the function logic if you want a different file name convention.</p> <h2 id="_10-hooks-filters-and-actions"><a href="#_10-hooks-filters-and-actions" class="header-anchor">#</a> 10. Hooks: filters and actions</h2> <p>WordPress has a beautiful architecture. It is based on an event-driven design pattern. It is more like Javascript/React than Laravel/Ruby on Rails.</p> <p>In WordPress, events are called &quot;hooks&quot;. There are 2 hook types: <code>actions</code> and <code>filters</code>.</p> <p>Actions are like any regular JS event. For example, the &quot;wp_footer&quot; event is triggered whenever the footer is rendered. You can use it to, for example, update a page counter.</p> <p>Filters are &quot;get&quot; functions that plugins can intercept and make changes to the result. For example, if you need to get the page title, you should call the &quot;wp_title&quot; filter instead of loading it from the database. By doing this, you will allow plugins to make changes to the result, which is good for the extensibility sake.</p> <p>Now, let's put our hands on actions and filters.</p> <h3 id="_10-1-actions"><a href="#_10-1-actions" class="header-anchor">#</a> 10.1. Actions</h3> <p>In WordPress, whenever the footer is rendered, an event called <code>wp_footer</code> happens. We can assign our callback to this event, just like we do with the JS &quot;onclick&quot; event.</p> <p>Put the following code in our constructor:</p> <div class="language-php extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-php"><code><span class="token keyword">class</span> MyPlugin <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_footer'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">my_fnc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello World'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>Notice the <code>add_action( $action, $callback )</code>. That's how we assign a callback to an action.</p> <p>Now, open the homepage and check the footer:
<img src="/assets/img/footer-hello.567b32f1.jpeg" alt="Homepage footer with Hello World"></p> <p>When the footer is rendered, it calls a <code>do_action('wp_footer')</code>, which triggers all methods assigned to the &quot;wp_footer&quot; action.</p> <p>The <code>do_action( $action )</code> is how we create a new action.</p> <hr> <h4 id="do-action-vs-add-action"><a href="#do-action-vs-add-action" class="header-anchor">#</a> <code>do_action()</code> vs <code>add_action()</code></h4> <ul><li><code>do_action()</code>: Producer side. I.e. used by the side that defines a new action. Used to create new actions. Example: WordPress core;</li> <li><code>add_action()</code>: Consumer side. I.e. used by the side that consumes the action. Used to assign callbacks to actions. Example: plugin;</li></ul> <hr> <h4 id="using-methods-instead-of-functions"><a href="#using-methods-instead-of-functions" class="header-anchor">#</a> Using methods instead of functions</h4> <p>Notice that we have defined our <code>my_fnc</code> action as a regular function. That's not a good practice when working with classes. Let's refactor it as a method:</p> <div class="language-php extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-php"><code><span class="token keyword">class</span> MyPlugin <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_footer'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token variable">$this</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc'</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">my_fnc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello World'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>When using a method on <code>add_action()</code>, pass the instance object (<code>$this</code>) and the method name in an array.</p> <h4 id="static-methods"><a href="#static-methods" class="header-anchor">#</a> Static methods</h4> <p>We can also call static methods. Just pass the class name instead of <code>$this</code>. Example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> MyPlugin <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_footer'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc'</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">my_fnc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello World'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This is especially useful when calling methods from a <strong>different class</strong>.</p> <h4 id="localization-multiple-idioms-i18n"><a href="#localization-multiple-idioms-i18n" class="header-anchor">#</a> Localization (multiple idioms, i18n)</h4> <p>To support multiple idioms, instead of <code>echo 'Hello World'</code>, we should use the <code>_e()</code>  or echo <code>__()</code> function.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>_e()</code> is a synonym for echo <code>__()</code>.</p></div> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">my_fnc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token function">_e</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Hello World'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my-plugin'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="text-domain"><a href="#text-domain" class="header-anchor">#</a> Text Domain</h5> <p>The second parameter is your plugin namespace, aka <code>text-domain</code>. By default, the text domain is your plugin slug (your folder name, ex. <code>my-plugin</code>), but you can define a different text-domain on the header.</p> <h5 id="variables-plurals-and-others"><a href="#variables-plurals-and-others" class="header-anchor">#</a> Variables, plurals and others</h5> <p>For advanced usage, check the official documentation:
<a href="https://developer.wordpress.org/plugins/internationalization/how-to-internationalize-your-plugin/" target="_blank" rel="noopener noreferrer">https://developer.wordpress.org/plugins/internationalization/how-to-internationalize-your-plugin/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Even if you are not going to translate your plugin to multiple languages, it is a <strong>BEST PRACTICE</strong> to use <code>__()</code> and <code>_e()</code> for human-readable outputs.</p></div> <h5 id="priority"><a href="#priority" class="header-anchor">#</a> Priority</h5> <p>Methods are called in the same order they have been added. Example:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_footer'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc2'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_footer'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc1'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">my_fnc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello '</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">my_fnc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token string single-quoted-string">'World '</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will show a &quot;<strong>World</strong> Hello&quot; (because <code>fnc2</code> is called before <code>fnc1</code>).</p> <p>We can also manually specify the order with a 3rd argument - the <code>priority</code>. Lower numbers are executed earlier.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_footer'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc2'</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_footer'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc1'</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This will show a &quot;Hello <strong>World</strong>&quot;.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If not specified, the <strong>default priority is 10</strong>.</p></div> <h5 id="passing-arguments"><a href="#passing-arguments" class="header-anchor">#</a> Passing arguments</h5> <p>Some actions require extra arguments. For example, let's say we want to do some cleanup when a post is deleted. To implement this, we should listen to the <code>wp_trash_post</code> action, which passes a <code>$post_id</code> argument:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_trash_post'</span><span class="token punctuation">,</span> my_trash_fnc<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">my_trash_fnc</span><span class="token punctuation">(</span> <span class="token variable">$post_id</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// my cleanup code</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The last argument <code>1</code>, is the function argument count.</p> <p>On WP core, this is executed whenever a post is deleted:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">do_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_trash_post'</span><span class="token punctuation">,</span> <span class="token variable">$post_id</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="multiple-arguments"><a href="#multiple-arguments" class="header-anchor">#</a> Multiple arguments</h5> <p>If there more than one argument, you should pass them all in an array on <code>do_action()</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">do_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'some_action'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token variable">$a1</span><span class="token punctuation">,</span> <span class="token variable">$a2</span><span class="token punctuation">,</span> <span class="token variable">$a3</span><span class="token punctuation">,</span> <span class="token variable">$a4</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>To consume this action, just define the arguments as usual and set the argument count (<code>4</code>) in the &quot;add_action()&quot;.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Notice the value `4` in the last argument.</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'some_action'</span><span class="token punctuation">,</span> my_fnc<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">my_fnc</span><span class="token punctuation">(</span> <span class="token variable">$arg1</span><span class="token punctuation">,</span> <span class="token variable">$arg2</span><span class="token punctuation">,</span> <span class="token variable">$arg3</span><span class="token punctuation">,</span> <span class="token variable">$arg4</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// code</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="other-core-actions"><a href="#other-core-actions" class="header-anchor">#</a> Other core actions</h5> <p>WordPress has many other actions that we can use to extend it.</p> <p>The complete list:
<a href="https://codex.wordpress.org/Plugin_API/Action_Reference" target="_blank" rel="noopener noreferrer">https://codex.wordpress.org/Plugin_API/Action_Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Besides those, each plugin/theme can have its own actions which you can use to extend them. For example, Woocommerce has many of them:
<a href="https://docs.woocommerce.com/wc-apidocs/hook-docs.html" target="_blank" rel="noopener noreferrer">https://docs.woocommerce.com/wc-apidocs/hook-docs.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h5 id="custom-actions"><a href="#custom-actions" class="header-anchor">#</a> Custom actions</h5> <p>It is a good practice to add your own hooks to your code, so other developers can extend it.</p> <p>You define a new action by calling a <code>do_action('your_unique_name')</code>. Then, document it, so other plugins will be able to extend your plugin.</p> <h3 id="_10-2-filters"><a href="#_10-2-filters" class="header-anchor">#</a> 10.2. Filters</h3> <p>Filters are about getting variables. For example, there is a core filter named <code>wp_title</code> that gets the title of tje blog.</p> <p>Let's say we want to replace all <code>o</code>s in the blog's title with <code>e</code>s. Just do this:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">add_filter</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_title'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">my_fnc</span><span class="token punctuation">(</span> <span class="token variable">$input</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">replace</span><span class="token punctuation">(</span> <span class="token variable">$input</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'a'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'e'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If the blog title is &quot;Hello World&quot;, it will become &quot;H<strong>e</strong>lle W<strong>e</strong>rld&quot;.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Your filter function should <strong>ALWAYS</strong> have a <code>return</code>.</p></div> <h4 id="defining-a-new-filter"><a href="#defining-a-new-filter" class="header-anchor">#</a> Defining a new filter</h4> <p>The filter equivalent of <code>do_action()</code> is <code>apply_filters()</code>.</p> <p>Let's see how WP's core gets the title:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$title</span> <span class="token operator">=</span> <span class="token function">apply_filters</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_title'</span><span class="token punctuation">,</span> <span class="token variable">$title</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The second argument <code>$title</code> is the starting value. It can be also used as a default value if no methods are added to the filter.</p> <h4 id="syntax"><a href="#syntax" class="header-anchor">#</a> Syntax</h4> <p>The syntax is the same as in <code>actions</code>:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$priority</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token variable">$args</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token function">add_filter</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'my_filter'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_fnc'</span><span class="token punctuation">,</span> <span class="token variable">$priority</span><span class="token punctuation">,</span> <span class="token variable">$args</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">my_fnc</span><span class="token punctuation">(</span> <span class="token variable">$input</span><span class="token punctuation">,</span> <span class="token variable">$arg1</span><span class="token punctuation">,</span> <span class="token variable">$arg2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token variable">$input</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Then, call it with (<strong>no need to pass multiple arguments in an array</strong>):</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token function">apply_filters</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'my_filter'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'value_to_be_filtered'</span><span class="token punctuation">,</span> <span class="token variable">$arg1</span><span class="token punctuation">,</span> <span class="token variable">$arg2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_11-debug-viewing-hooks"><a href="#_11-debug-viewing-hooks" class="header-anchor">#</a> 11. Debug: Viewing hooks</h2> <p>A handy tool for WordPress development are plugins that show the hooks on screen.</p> <p>I recommend the &quot;<strong>Simply Show Hooks</strong>&quot; plugin:</p> <p><img src="/assets/img/screenshot-2.6cbe7c88.png" alt="Homepage with Simple Show Hooks activated"></p> <h3 id="_11-1-usage"><a href="#_11-1-usage" class="header-anchor">#</a> 11.1. Usage</h3> <p>After installing and activate it, you must be logged in as WordPress admin to use it.</p> <p><code>Open any page</code> &gt; <code>admin toolbar (the black, topmost bar)</code> &gt; <code>Simply Show Hooks</code> &gt; <code>Show action hooks</code></p> <hr> <div class="custom-block success"><p>This ends part 1 of this tutorial. On <a href="/2019/06/wordpress-create-menu/">Part 2</a> we will see how to create a menu item and present a form on the admin side.</p></div></div></div> <hr class="my-12" data-v-335698aa> <div data-v-335698aa><h2 class="text-xl md:text-3xl pb-10 text-center" data-v-335698aa>Comments</h2> <!----></div></div> <footer class="py-4 bg-gray-800" data-v-335698aa><p class="text-center text-gray-600 text-xs">Copyright 2022 - Daniel Loureiro</p></footer></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.5632ea00.js" defer></script><script src="/assets/js/3.9e1cc85f.js" defer></script><script src="/assets/js/13.eb4c0cc0.js" defer></script><script src="/assets/js/22.2ffb8c95.js" defer></script>
  </body>
</html>
