<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Joomla and Memcache (with UNIX sockets) | Learn with Daniel - A learner diary</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon-128.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="A learner diary">
    
    <link rel="preload" href="/assets/css/0.styles.e0c1612b.css" as="style"><link rel="preload" href="/assets/js/app.5632ea00.js" as="script"><link rel="preload" href="/assets/js/3.9e1cc85f.js" as="script"><link rel="preload" href="/assets/js/18.f3523bb9.js" as="script"><link rel="preload" href="/assets/js/22.2ffb8c95.js" as="script"><link rel="prefetch" href="/assets/js/10.ab7cb67b.js"><link rel="prefetch" href="/assets/js/11.5242956c.js"><link rel="prefetch" href="/assets/js/12.59c1b827.js"><link rel="prefetch" href="/assets/js/13.eb4c0cc0.js"><link rel="prefetch" href="/assets/js/14.cd6385da.js"><link rel="prefetch" href="/assets/js/15.f6ed5cf0.js"><link rel="prefetch" href="/assets/js/16.60e48bf7.js"><link rel="prefetch" href="/assets/js/17.6ade2139.js"><link rel="prefetch" href="/assets/js/19.0cd9be83.js"><link rel="prefetch" href="/assets/js/20.74e5d0bb.js"><link rel="prefetch" href="/assets/js/21.057bc373.js"><link rel="prefetch" href="/assets/js/23.45611473.js"><link rel="prefetch" href="/assets/js/24.2c5aaad4.js"><link rel="prefetch" href="/assets/js/25.53994f14.js"><link rel="prefetch" href="/assets/js/26.4b88dd5e.js"><link rel="prefetch" href="/assets/js/27.33da5e65.js"><link rel="prefetch" href="/assets/js/28.e1bc1897.js"><link rel="prefetch" href="/assets/js/29.41a44f48.js"><link rel="prefetch" href="/assets/js/30.b52a01e3.js"><link rel="prefetch" href="/assets/js/31.32e50696.js"><link rel="prefetch" href="/assets/js/32.9870be67.js"><link rel="prefetch" href="/assets/js/33.6be9bedc.js"><link rel="prefetch" href="/assets/js/34.95333d7a.js"><link rel="prefetch" href="/assets/js/35.b90c291b.js"><link rel="prefetch" href="/assets/js/36.853d11aa.js"><link rel="prefetch" href="/assets/js/37.fe79cc5b.js"><link rel="prefetch" href="/assets/js/38.aef7ef02.js"><link rel="prefetch" href="/assets/js/39.dca7aa67.js"><link rel="prefetch" href="/assets/js/4.37520176.js"><link rel="prefetch" href="/assets/js/40.d659d938.js"><link rel="prefetch" href="/assets/js/41.83aeacc5.js"><link rel="prefetch" href="/assets/js/42.610c5aca.js"><link rel="prefetch" href="/assets/js/43.e9222b3a.js"><link rel="prefetch" href="/assets/js/44.9858f816.js"><link rel="prefetch" href="/assets/js/45.b0f0f5f2.js"><link rel="prefetch" href="/assets/js/46.492b33ea.js"><link rel="prefetch" href="/assets/js/47.07c3328b.js"><link rel="prefetch" href="/assets/js/48.b2d7476f.js"><link rel="prefetch" href="/assets/js/49.9fd583ed.js"><link rel="prefetch" href="/assets/js/5.b259d54e.js"><link rel="prefetch" href="/assets/js/50.9e6ef79d.js"><link rel="prefetch" href="/assets/js/51.8c3776f7.js"><link rel="prefetch" href="/assets/js/52.92a4b980.js"><link rel="prefetch" href="/assets/js/53.3e72d3bc.js"><link rel="prefetch" href="/assets/js/54.e1e107ff.js"><link rel="prefetch" href="/assets/js/55.418768d6.js"><link rel="prefetch" href="/assets/js/56.95ca3ac0.js"><link rel="prefetch" href="/assets/js/57.ea7fb933.js"><link rel="prefetch" href="/assets/js/58.40c5610c.js"><link rel="prefetch" href="/assets/js/59.5af9d54f.js"><link rel="prefetch" href="/assets/js/6.70c0bce3.js"><link rel="prefetch" href="/assets/js/60.0c66c22f.js"><link rel="prefetch" href="/assets/js/61.05b88817.js"><link rel="prefetch" href="/assets/js/62.483e5481.js"><link rel="prefetch" href="/assets/js/63.6ab28e82.js"><link rel="prefetch" href="/assets/js/7.8d26dacd.js"><link rel="prefetch" href="/assets/js/8.6beb7cbb.js"><link rel="prefetch" href="/assets/js/9.5015eb07.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.92df942c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e0c1612b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="dark:bg-gray-1000 bg-white dark:text-sepia text-gray-900" data-v-335698aa><header class="border-b-4 dark:border-green-700 border-primary" data-v-335698aa><div class="container mx-auto flex h-20 px-6 items-center"><a href="/" class="dark:text-green-700 text-primary text-3xl router-link-active">
            Learn With Daniel
        </a></div></header> <div class="container mx-auto px-6 md:px-16 py-8 max-w-screen-md" data-v-335698aa><div class="py-8 md:py-16" data-v-335698aa><div data-v-335698aa><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    Joomla
                </span><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    PHP
                </span><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    Linux
                </span><span class="dark:bg-gray-800 bg-gray-100 px-3 py-1 mx-1 rounded-full uppercase text-xs font-medium dark:text-green-700 tracking-wider" data-v-335698aa>
                    Memcache
                </span></div> <h1 class="dark:text-green-500 text-4xl md:text-6xl py-6" data-v-335698aa>Joomla and Memcache (with UNIX sockets)</h1> <p class="author text-sm" data-v-335698aa>
                by <span class="text-base font-bold" data-v-335698aa>Daniel Loureiro</span>
                on <time class="mr-3" data-v-335698aa>Apr 20, 2019</time> <span class="reading-time text-xs uppercase py-4 block md:inline-block md:py-9" data-v-335698aa><vp-icon size="1.5em" name="clock-best" class="inline-block" data-v-335698aa></vp-icon>
                    3 min read
                </span></p></div> <div class="post-wrap text-xl leading-10 pb-8" data-v-335698aa><div class="content__default" data-v-335698aa><p>Let's see how to use Memcache to improve the performance of your Joomla installation.
</p> <h2 id="memcache-or-memcached"><a href="#memcache-or-memcached" class="header-anchor">#</a> Memcache or Memcached?</h2> <p>They are two different software, made by different authors, but mostly compatible with each other.</p> <p>This tutorial has been tested with Memcache<strong>d</strong> (with a trailing d), but it should work with Memcache too.</p> <h2 id="_1-installation"><a href="#_1-installation" class="header-anchor">#</a> 1. Installation</h2> <h3 id="install-server-and-its-php-module"><a href="#install-server-and-its-php-module" class="header-anchor">#</a> Install server and its PHP module</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> php-memcached memcached
</code></pre></div><h3 id="to-test-it-create-a-phpinfo-php-file-in-the-joomla-root-folder"><a href="#to-test-it-create-a-phpinfo-php-file-in-the-joomla-root-folder" class="header-anchor">#</a> To test it, create a <code>phpinfo.php</code> file in the Joomla root folder</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><h3 id="open-the-page-in-your-browser"><a href="#open-the-page-in-your-browser" class="header-anchor">#</a> Open the page in your browser</h3> <p>Example: <code>http://localhost/phpinfo.php</code></p> <h3 id="look-for-a-memcached-reference"><a href="#look-for-a-memcached-reference" class="header-anchor">#</a> Look for a memcached reference</h3> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+4AAAFTCAMAAACQ8aYOAAAC/VBMVEXd3d3////MzP+ZmcxmZmb7+/v19fXr6+u/6/rg4OAiIiLW1tbMzLlcJyItLS0iIlKBtv8iIicnIiIiIkYiIi6amZYzLStKJSJkiszEzP8zKCMsIiIzZ8cjJi8jJDanbDwsYcfAkWZWJiJZR0NSLyPMzOMtU6MiOoU7S3udYDVLNyorMEMiMHMmLD8lIiIyIiIiIkuubDWAVTk8LyomOmgoL003b9UzPmhJIyLGtbmtxv83bM5wWEqCRyRiOCJdnP2BmMwiJ2BdVUw2XK+ZmKgiIz/Mwb8qLTZAJyKgyv8sPFxfMCM1ba/d3NaPb1XMzPjMydiXl7ZUOy1rOCIiUKwpR4WSxP+2gUvMzO7O3d19fJxgZHaxe0ZWk/PX3N03bL1tQyuNsfwwR2wtKCN+r/8/VoNzksxNeMvGmGuXvP8iMGskMVs6ODpRRTfMwa+NTyewzP+e0t6PmslLVGqWdGFOi+ttTUsnKi19n+xif3wmO3w3SG3Nzc7d1qpveZrctHJFKljSmlVITk6hocXMo3tgMEB5UC9vp/lsh4WGXUm4rW2NZENnTDxXlv9lpfxihcyakp8yUpFCgeOBQSKmy//HwePd2rw+XKWWipiYkI+/sXSlse0yZ6hka4dHPEG36/rD293d3cpxhsV3fIlGMCxnvfr4+PhEcsfdwIi+ilWzcD9hnP90t9+vrMI3W5i7oY5xzPqs1OCLrshPYKpXXme2zt1WgM+ZmcWYhXl2YFc6QleUVy6c5fpRlMlvbm8wO02EYD1dh7Hbx6g/SGVcQiq/6+3Mtp7SuY1OaYZFhNPMtsBIeb1qsddjlbnDpZjGnHRILyK/69jMwcdPXZiAlb2/2aa/3t6vtNjbzbfMsaxKd6p7enJRQWBRLTmBy/OJv97MyMfBzLm/vIGmw/C/58SMfHejqa1jd5/dzpdMYmlentC4xMw8ebm5lnQ3UnConm4pOXG0xrWNs56x3tlier6ikVqghVoxMDOw2/N3g7R5kqK5eT+ibUqcpuOYdzyflAbIAAAgDUlEQVR42uzavWtTURiAcS/mJq/LGe8/oDiYMYibQxGCH5PgKIqrZhBxcXQQURFcHcxSr4uDFgcpsVpKJEEcCtbBgIKUCg7WD2rFQTz3XKKckFuiRLkv5/ktpbynZyh5enJPui2aSJxWawBKrZrG0ZYmzT1O0yqAEkvTeAq5OzGAkousrXMHEAhyB4JB7kAwyB0IBrkDwSB3IBjkDgSD3IFgkDsQDHIHgkHuQDDIHQgGuaskJRFBFXJXSUoigirkrpKURARVyF0lKYkIqpC7SvJv3UzM3nuypdWTxpwgd2XIXSXxkTsmQO5KiY/cMQFyV0p85I4JkLtScsUGeXe9tbn0vt192Nqcf9+WzKdKK2kuLXbEKloysEvme69tsYOZW5umvvS8I/4kz31tJnncO+hvm3mZbbb4hdwVIneVspbrFxNjTPPRE2M1+zbm7tfEOPtssgVLNhrG6Yu8nTW5Yx3xJzb3+oMkH41uu+w2Mx+Okrs+5K6SbTlLrtIw7ovt9mPHBd58Nff5mqu0cImp9y4vtGzUT8+9m5tbGzRc4d7E5m7M0kLLmObx0W3X7ezQ5YWGIXd9yF0lF+eRtmzY6Ha3Zd09ay9fsgW2RVZmTfO6FC45nZ3R3W+Sa3evZnNv4nLf3ZGVPcbc8bd13+V/N8hdH3JXyZ24t7PoXNlvG6Z+W1Z2mV/6UrTEpet012bODN/N+5Ob7mfy67i2v+3q4Xzd6n5y14fcVXL3cPdclzbiYcuz5pc7UrikP6x9IxmuvtDJJyM388sud3/bLP4+N/NKkbtK41p2JT67n/s2mvvo6Z6fzzfOivzIcvcmfu7etpzuqpG7SuNado/Vxzr52/TO2Ny9J/Ts1D7vjmmbuzfxc/e25dldNXJXaWzLLsEPL+YODPbYcIuX1HvfBzv7snrUmFPP7YV7lrs38XP3tuVmXjVyV2l8y+4Dcqcw99+frg9XH2pluXsTP3d/2+Hn7qf2kLs+5K7S2JatTwu3kub8ucU3bSlcMrBLHvdsuN31VlLvvXbP7t7Ez93blv+qU43cVZKSiKAKuaskJRFBFXJXSUoigirkrpKURARVyF0lKYkIqpA7EAxyB4JB7kAwyB0IBrkDwSB3IBjkDgSD3IFgkDsQDHIHgkHuQDDIHQgGuQPBIHcgGOQOBGPi3GMAJTel3OMKgJJL43hKuW/HX+DXhv+nUk2nknuc8rold5RcpWZ7J/c/QO5Qq1KrTSf3Kq9bckfJVXbUquT+J8j9J3tnFetEEIVhsuVpgu3e4rQ4FCnuWtzd3d3d3YO7EyzBIbgFJ7gFCEETCAFCgPDCC4EHTmd7li6FwCJlB/4vuZeZM52G3LNfZ2f25lygLNDdKdAdKMu/qnvK1AlpYqOFRA6Py3DXj00RZHa54fYMuwno/iM0KOftFtWF7o6B7q4AukN39YDu/6juKUsk7Csc3Ptso2/+QI9nWdZOvuLrY4N60bkNZiXLR2PcpeugFQ2HrDkeenVglshh6lsmlfAV77q8evKudIFUoqumysvCvkCIG3Jael/NdxRIeFm41w1BVOL/E3SPF5xvmRVKJidZZpfSJHW3Zxi6q627CPY29GEn8uubPPOy6aMqpu/V9YugKDpoTbfKUwa16pMvbyjSTZla+Nfk19tZc5bfEDX7GJGLYbDRq9W+I2midBe9WuWmQW7QtPDLqxyggP9IIHF1vfigdx4GuscHK9+pKafVKZmcZAoEJ6YTOaTu9gxDd7V1916uXItyOJWsrJsv7+0G7UW7L4IVunokB5eXSEhjduk68G6i4RzWnLr5eoYOtmfd8xV58d7jidLde8AzOH2FkNWQL6f5KVPr7XAz/5fg3FFWusnbdE6yDMh8ke72DEN3tXWvkqZBOX2TzPZMIcnxRbDJQA8ZObQTDVWZG+7ypu5k1JyZIudAa2dXeVY+IXrJ1V1+ZMhXH6Ke1ZBvQ9/oPjINdP9LcO44mVaSbfmKzjD27qrrnvDZbPr8HtuyZcv1XwQrhORK0OvFg+pV5sou6x41h9YAuVzz4VvLs6LS8ur0Pu2l7rxayIZtdU+QuuvQPf5w7jiZVpJtq7s9w9D9n9F9XjbvqFYVe3eLDvLena6EsbPyVZkb6fIVYs1ZntobqJifb+aPDKIdeiXaEBTPakjdeS/IDd67m7rTPWLNQes9DHSPD5w7K5mcZNve3Z5h6P7P6C5P3YOBrrHBonMrzzKCL+mDP9LlK8SaQ+e23uJ9KBBm+ZpOwt8l5HlW2DfqrNSdjvp9TULcME/mvTXf8ZOeQxtF9O08dI8PnG9OJic5Ol9p7BmG7irrHh/sz3G/B3QHigLdoTv4b4Du0B38N0B3p0B3oCzQ3SnQHSgLdHcKdAfKAt2dAt2BsvxG3QEALuf36a6BnyBxIgDiBXR3BnQHCgPdnQHdgcJAd2dAd6Aw0N0Z0B0oDHR3BnQHChNX3ZMkTZ5CA9Ad/Bhu1715WVGM/pmcv0JTLZbRQwM9NPAV3dd9LGzkOdUikSRzH6O22bLiALhQd22LkbO/pmUUjdNq4Md1r1Py1ejzDa8kkux6not15zgAbtS9b5aEadroRt42Jcuk8wU6hO/fR+TO+XRwYVEt0EPezIcHRg2ngQIjcg+rVEr7z5G6S8a0P8bNgqw7xwFwo+7Nj4rSdC/fc085vcvh/D2bJkkqqgza+zZ9kbHHH6YI6161nOhYMX3CNBro1eqGPkT7z2HdW6cyigyI0Z3jALhRd617+pyLcolMmY2cTxf3E0OSJNWHUNBoMnBlWnlURwOL6tELkiT1l6eb/gzafw7rXufxrrFrY3TnOACu1L1qLf/VWv45zYSkNN2z02F8/UKGEEU6hHVvFt7W07cn1Na2ikzafw7pzmy9HKM7xwFwpe60cuehBT6zMXLgpEmTVvKzt8U7ColikdW9v7m600Br6B6le8FVMbpzHABX6k4bdyGK0SLv7dIy8Zo5pu6Tz6zecFYskHv3WubeHbpH63638qt1KzYeS1TnzR7q1Sm4qm0i2TbjOKoDbtV9dCOR0FkLH8DreW71MHW/lzWVCO4tJTslh6bzFh+uQfdo3cfMKKyfoOfrdY6+TpTogyBey7aM47k7cK3uAL9VB1wKdHcGdAcKA92dAd2BwkB3Z0B3oDDQ3RnQHSgMdHcGdAcKA92dAd2BwqDOPAD/D1jdHYHVHSgMdHcGdAcKA92dAd2BwkB3Z0B3oDDQ3RnQHSgMdHcGdAcK8zt151Ly/KX9Cl9/A6p29Y+Vs4fu4JsooXu4nHzcdFe9nH1iW215yZKZ6fJcbWuPn5/Vqdot1KwD7tNdI/6M7v9gLcvEsbXlC87ff/7RFVt8ycLaLU43QlUb4D7dI1/TG/qXltKSZEk+PXfwwK6G/kr9NY2rz9uClw6n0mt2rj8jleGnsUhXvgHVobfmaNcaDtt5knQ3C+ItML8pX84+cUx9ujFTtlNvVVsrzjFqAeBO3UXRfdVFhrRJsojgxPR6tYnp9DbaTa4+Hx183EjUbJV12+ihF1rOorqVkW64QD0ND7HmmEXuSHezIF6O/lVrVUhxU/ly9rG6bx5PdeUnNFkbHa/T+n6L07Pw12SAW3WnMvLX8+etkSSLt039RqK0lksU06zq8/Zg3hqapF7fLMlTmF16I28bGs5gzelujFzUvB8FzIJ4yVNcT984rfrl7GN1Hyd1z3nHFj9fTuhLUbMOuFV3uqE+V6ICLeQFUmQvS4t4RrKbq8/bg+YflKs/Ix0NFegc6SbhOvQ8ZwvFLXFp5GIu+jxQv5z9j63uY2qdanG3EOrNA7fqbq3uycNmz5Zmc/X56CCv7luMIqGUqQt0jnS5Uq01p3u4QP1R1v1c9RM3ejbV1C9n/0N7d/4IwNE8cKnuvHePNpurz9uCN83NOul+e4ZRoHOky55ac6om9e6sm591z15WiExp/4Fy9qy7VVueWvPX0sm8bHNcru79qAWAK3Wns3cfnczbzObq8/bgpTLmyXyn4IhsBTpHuuypNYdO5r2BMqw73Qz452j/QDl7qbuttjw/d6c2x2nvfnZYtS67EwHgJt0BfqsOuBbo/om9OwvVIYzjOD4NV+PqIGXNkp2UPWsSEiLJTra37GuWRK9dbpT1RpTcWEKUsiRxISURhTsXUlIkrlwo/5n3mce88cgj9DzPfD8XZsw5t98z7znnPb+xQ+7wGLnbIXd4jNztkDs8Ru52yB0eI3c75A6PkbsdcofH2JkHyoO7uxXu7vAYudshd3iM3O2QOzxG7nbIHR4jdzvkDo+Rux1yh8fI3Q65w2N/PXf5O/O2PSvLsj25pNmS71fk/7JW9Yc6H2k+Mg4SucPI+dyl8Tu7Vjbbn63FJsnA71fIndxhx/nc7w9ePl4m41pmW/B3Wnc9qq/U5T6ztgi/WrYrZdFmYG0OPp2l1yf5UHy2IP9xRCIOxwGq5X7ukqzMnp8Y3evbqvfdWafn9tt851UEOJ67LEB/+PJVapcZuTGPJrQ7qK/U5f64tghfyD3pf2aqTNvpk8JQ/JgNz948aeh2ckscoFrub3esSycpjw+XOfkF76qDrkQvr0WA47nHl3sk6fizjL637jW+u8xH5lcKuetF+ELu8oVhjwzX6hM9FC8L8uG/mD9963ZU3fo87Tza2aW64yqT8hDO5x5Pvni9RzK65cxbkvrS1svH6yuF3PNFeJ27nqXXJ3ooXhbkw8892nloVveH0c7NK8WlJu9XtX3A3R2R67lPaSQv2+dKqqs7Jqnm8/Irhdz1Inz61JiZayT3bJZ+qdzU9UndUHwss7Vh575976e9r6LqoM9RzctbPBAOkeu5rx7c7uauVslhGYbuvWHDhh7JtPxK9iP6U6du7o+FWoSXB0d1G9Zactez9Pqkbig+lq8Ji04ujAPUOJ+ZX3loVpR+7z5p9Yt7F+ef7k7uiFzPfcr1Ti0aBjxcO3N4MjT7ZdyoV+pKmruQcXmhFuHl+/q2lX2Su56l1yd1Q/Hp41+T5hfiAEnumWqf2/LvvQMtNt+8enbV4nEVXswjihzP/c+oqPOTMmlceDIcUI/cA5O/mD/PE6HwA3IPjPq9+4RB3Nzxg0BzLy/eRAsjcg8NucOI3END7jAi99CQO4xczh2A47i7W+HuDo+Rux1yh8fI3Q65w2Pkbofc4TFyt0Pu8Bi52yF3eOz/5V7Ot8STOxzyz3bmf27bpm71Hyr9EjW5w8j53PWqvBm5kzt+i/O561X5bCe+28J8UV4dshfzekFeJuU3jx5S7uF5duZh5nruelX+6YiGyo0+y6erRXl1SHMvLMivmPOkYWO5h+fZmYeZ67nrVXlZkn19bE2yUS3Kq0Oau16Ql9FZSbtNuYfn2ZmHmfO556vyM5LMULUorw5p7npBXs7j80n7cg/PszMPM9dz16vyHZpuXb979+4TalFeHdJ4iwvy8qntyz08z848zFzPXa/Kj53QvDK78amDalFeHdJW8wV5nXuph+fZmYeZ67nnO/PZD9Ibej5bphbl1SFtNV+Q17mXenienXn8guO5FzFNy848nELuf4adeXiI3P8MO/PwkKu5lwZvooURuYeG3GFE7qEhdxiRe2jIHUYu5w7AcdzdrXB3h8fI3Q65w2Pkbofc4TFyt0Pu8Bi52yF3eIzc7ZA7vrFzP61NBHEcxmGPg2CzakvbUNGKGqEYUARND1YPxXpIUBFRChZTaCtoL/6leBARFhS0+BK8BEVBQfDmSdSLIL4A34E3z/52MzuN2ClZSGAm83xO7ZLrl9ldlsdjvW/VbR8K78N35g4v9HjuJiRvVv7/VerTzB1dcX7uxqaHOnNn7uie83NPFy6lmTtvPqlyVqI5J4347KrJyjeS4Xji4EI7GH//cWk9qldK66HG5unMw86HubercqrcEZyTqyYrv3b7y+Un0pnMgvHvfx/ev/rr7MxQqLF5OvOw82HuS1KEl3RkuZ2T/S4V2fRqZ1a+nhZn28H4tfPV5qPDF0ZDjc3TmYedD3NvSXc6Hfa/sfhteVa+kYwpparNbVkwXuKUx3aXbgUbm6czDzsf5m473XV4thUfPblrpNrUL/I+j1w/NHMx2Ng8nXnY+TD39Nl98r9n9865/0xiM3cZtjo9Gmxsns487HyYu34zX+uIxXfOvZFcm7q3T89dLI3LLXmwsXk689iC43PP1LODdz3qzo29K2fCzdHSmYedF3OvLD6YjleWo25cepbEtYDr03TmYefF3P+8jGcXF7r9Mq70/ETwc6czj814MXfwES1cxNyLYe7wGHMvhrnDY8y9GOYOj9GZB8LB6V4Ipzs8xtyLYe7wGHMvhrnDY8y9GOYOjzH3Ypg7PMbci2Hu8FgP5z7oX7e3MXf4qz+dedrSzB0Ocv1mnrkDzs49vZnXufi8CW8C86Gm5OnMwxH9mLvOxedNeBOYDzUlT2cejujH3HUuPm/Cm8B8qCl5OvNwRD/mrnPxpgmvA/PBpuTpzMMR/Zi7zsWbJrxO0AabkqczD0f0Y+46F2+a8Hruwabk6czDEf2Yu87Fmya8nnuwKXk683BEr+ee3qVHmwk4NktnHo7o8dyPJ+MHVpk7nXk4qcdzb6m5uxFzpzMPJ7n+Ee3A4yNaWDH3QcPcYcXcBw1zhxVzHzTMHVYuzx2A4zjdC+F0h8eYezHMHR5j7sUwd3iMuRfD3OEx5l4Mc4fHmHsxzB0ec2LuoX4vz9yxJeY+aGVq5g4r5s7cAVfmvm2vRGmmPrw9N3F6NY/KS5HmzptPqrzRkm8kw/HEQWlSffs4XJprytwlU73z62iAIXo687Bzf+5q6uF4afbhWGk+j8q363Myd9OSX7v95fITSVD+Oq/mrky+kuG+uyprDzFET2cedu7Pfee8dCdrUUWmqqPyS1KOl8RkeSMqLz+sp5mrPXH2t1w/ImsPMkRPZx527s+9OiSx6HmZai2PyrekHC//lzei8o1kTClVbaZN+WzuSs0sREGG6OnMw879uW9P5/40m7uOypvT3bTkW/HRk7tGqk1zuu84Fd9fDjJET2cedl7NvSM4P5k+u5uWvMz9ZxJXmz/Ms/vrinr+IsQQPZ152Hk1dx2V12/maxst+UZyberevmoz+jadv5lv3FT7TwQYoqczjy04PvdN1bNDeD0fKKlaOvPoipdzryw+mI5Xlpk7nXkU4uXc/7yMZxcXIub+l507tmkYCMMwXGD7lFCgCBDpoUWUdDSwQBaIqGAItqE4VmA8DikdRJajE/zOPU+TSO4+39vZ9p15Jpll7niIlgjkPo3cmTG5TyN3Zkzu08idGfOdeWhHrdxzSovtKRDWdpFSrpP7UHoHAktpqJD7rncgtO/aq+Te5zwAgeXcV8m96IHgSqgjuQONkDs0Q+7QDLlDM+QOzZA7NEPu0Ay5QzPkDs2QOzTDQ7RwNCrl3ndAcLnvK+V+wgHMZra/01V6AbbPboBzu5fZYuhS6V3uEzi3EZjtwNxTndwHN8C53ctsMXSLNMh9Cuc2ArPJfY7MZrb95D7i8up8PXY5kiCz/Vwp9nohZyuCH70jyf3pZrlc3b69l3/X9y8nv9k8XLzuLkfyL7OVvVYf4ydz87x8LD+fd2frOCf2i53zCo0iCOP4sevTEE12PeuZs2tsZ9TY2+klesYee2KINaeJNTl7ebCLsWBBgwUbiB1ULhbUCKJiRwRBfVBEg/jqi+KD3+7OjLvRPdygcXf9/pBbdma+ueWf/4+Z2UCq2zYesIyYKEY7kuXBXwbLKLua5x7c283xEf8Dem+Gu/1kZ9zFEYH2EO7OZFyRfRL7z3AnrcSyDeT3cLerea7BHeKbPoUUBBVT4edjl4LgvubTk7vDgg9XqeutoQQUUro3kDyxTPmgAyzK2bk14g4W+JIzP1OPto8uqRUAR3gyS8MZMRjrfalrLw0n5kOIQ6JV+xxtGxg2PTG/NLwEcGcuje5TlyR3/6oFi7lBs2dT89yEO2yc/DENd+K/OvNrC2nFQF9h/o4WpGvxoQdXwlL34s9Kd9TXumhHvdT6O+gA0ZqcnVsj7uBN5lw5I6Z5FElfX5wzFxYlhnvZFFjSor4BX2m7IbFW7XO0bYDtGjmvHD6WB5lLUbkw59LVR1qwmBta9oI2Nc9VuNfpIUU03KU8dTP1HA5QeSMCA/L5nkvpTm8ByMvjitgA0aqcnFsD7uBRQRA2Oq2oR6Cy0h5gINt3RuWCIHSzdkNirdrnaNuUVbpF13D7EYA7cyMaSKv4QoPF3dCyZ1fzXIX7j9U9A9K6hahqtQVOTwbcwe8DG7wn+ADRqpycWyPuqjfwUU49WjwdDMnYznHfUc9bUc8bYe08sRtIyKp9zrYNcI+UEykvCrgzN9JLAoQU1leDxd3QsmdX89yEu/7sXl9duVZnZ2cfhZUrqOIuMdwvd+waHpDPB4hW5eTcmq7uQfW2sOJVWIc79A2GNYq208TWrq+8dbZqn7NtA9xjCquAO3cDMpV9m4TUYHE3NOvsap5rcGdv5jnucDzyrsgZOCdCz6VwlMosVn8bQD4hrX4MEC3K0bnV+TXnZqzS2R2SubokoMMdzp4EwqlvTx9KujeXSciqfc62TcG9bN8XUcGduRG9WpzTloS0YDE3NOvsap57cKd/d+e4a2+bO6Tk07fO4uXjxEt/G1sC3ggf8H++qiMgKQIW+Lz8zTxsT+UOH+lCxAfCMmZof98leQUsasy+/+ZVXQwuKu7MjdJD04l/ZlALFnNDs86u5rkEd+cKbUPbzIW4u0xoG9pmLsTdZULb0DZzIe4uE9qGtpkLcXeZ0Da0zVyIu8uEtqFt5kLcXSa0DW0zl41xR6FQNtefw11AVUE1PKgqCG2rkhB3a0Lc7SG0DXF3ojC3iLu5EHeXCXOLuJsLcXeZMLeIu7kQd5cJc4u4m8utuCfUTEz6ubUxaSRw/en5uXqWyNJW4XeFuNtBaBviHkcrF6fMNutrQ8ZlV+psucvbX6gGcdybzpWHeTQd+dZFbndrkgcVR2gb4l41TZxPFsHl3+J+/kMbltvhPT+tvJv10IOKI7TNFrgnNEvc1LZD7HyWP7QAtsl9GianTK3UeP9KXSlzxqjNdWU/9NFbwH1T1pJQL14jPM5acq6c4s5GqZ0rlhonTKiZuqytf28vAeZY1rb1bjrBxGgXMjhlNr1AXxKt1grguyjtfQkhqWcMj3NhDAHtpAVsYoHpr2zmO0FuuVZNue5BxRHaZhPcSYc1PmnwmoZSrvCsnzTzSseC8YbGN2NIZk7z0ysX38sukVsvoLcJNUkGdC/iNYOGkmkDfRR3VjSon9JYe6NhQihNO5ZFGjVQ5ii++IlO8MSXtvrG6yR6UXBn1TCuMOeptIjifvkpSal4YXic3MtPpZSDS1mBNvECdXh14D65rpy20IOKI7TNJrh7c0eNIb3hQNxNaCq3frcHtsqVGtsPEVSNnNcsMUm7BWa9udDdiNfMkpfvnjif4s6KoHP3yDakiX5CKPVvE9Z1bD8koSYgrJtgXNH+BgK9KLizaijorzsnwLfkGh6Hb+ZZgToxVXXgPvzN+dWHPag4QttsgntqUsu+sOY2BhgnEFW9KzWObQADR21uCF2pM5RbdnY/RZrwmpPQzplUi9gFPt7qJtRK7/QYMB426UkCn2BUZ5mQtKn0ogzi1fS7dLgbHofjzguUiamqA3fQqQceVByhbTbBPVEBcasKYlN5edHatWv36xvZQn1SToP/CZ86Q7lluE8mTXjNLNhZj7wGuI/8MLqXbnVfoCy3hgnVxXoWrO7qHHwCQdhztjPpRi9KH6um36XHvfLjwOSAu66gunHvdMCDiiO07Xs75+8aRRAF4CFYrVhEDouAhT9AwxGMiPiDNIIcQky0UTDFgRoFSxtR8FBBiyAIUbhCjNxhioAxhZoqSAoFQbRRiVoEW9H4F9g4e7v3uNvsxFvZ3M3sfV+Ryc1kXobHfOzu3PLs070wnLswtuHxvabOj8FjuPbr88TmwfHwY11BmVPYlJsb3aN19yfWJxWGg4fpiO7e/pfH9LN7LYYEuP166skb737Y+GMyO0b3yHJ037mpszKhDbqP7H1U1D9/P1dfj/6qPpzmzGlNSJt9uvsn2735T5eaO98NBSfz5weu7RwcDz/WFZQ5+mQ+t3so1L0+qefQlb7cgas9Ed31Mf1WfTJfiyEBvu3Y4g28OBw2/pjMjtE9shz9373cU5mw/rr/8TQramRhRZUm9vUu8gXy2pA2K3RvP4GMzsLrYbxVZwbd0R3QHd2TT9zuaY6cTjgN3S2AtHWr7v/NiS8++kv5RKC7DZA2dHcR9i26m0H3jMG+RXcz6J4x2LfobsZi3QHAcri6J4Krux2QNsXNvIOwb9HdDLpnDPYtuptB94zBvkV3M+ieMdi36G4G3TMG+xbdzWRV907WmZc/SDAqHXqJ6N4C6G4D3aK7oc68FJnusO7l0enexYv+L3f78h+Kq1qIQNrQ/R9YrHtp7Nn1bfnvujjL5Pzb5feRluLpqyBtVujuXp35k0FNeVlAbBQZlRg6niwxnZv58oOfqnRn1i+4Voy0XKeikDZLdHewzrxfU14WEBtFRiWG1L5LTfcfy7Nq5uZlpW6dqkRayilHIW2W6O5cnfngZl4WEBtFRiWGjidLTEX38sLxM+pGbZ/uWoq2CpohbZbo7lyd+UB3WUBsFBltjCFLTEP3av9cRXGZahXSZonuztWZD2rKS2dsFBltjCFLTEF3vW2XlOIhtFVIm326O1NnXteUl87YKDLaGCNYYiq6V/sn5zcWlX+kXAmPlqXliDkG0maf7m7UmQ9qyktnbBQZbYwRLDEV3WcOeppXfIHcKqTNCt0T0PFKtFbA62G8VWcG3dEd0B3dqTPfRZC2btWdOvNdCGlDdxdh36K7GXTPGOxbdDeD7hmDfYvuZizWHQAsh6t7Iri62wFpU9zMOwj7Ft3NtF/3v96uicRqcGe4AAAAAElFTkSuQmCC" alt="PHP Info on browser"></p> <hr> <h2 id="_2-add-memcache-user-to-www-data-group"><a href="#_2-add-memcache-user-to-www-data-group" class="header-anchor">#</a> 2. Add <code>memcache</code> user to <code>www-data</code> group</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">usermod</span> -g www-data memcache
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Yes, the <em>memcached</em> user is named &quot;<em>memcache</em>&quot; (without a <code>d</code>). I believe this is for compability reasons with <code>memcache</code>.</p></div> <p><code>www-data</code> is the default nginx/apache user on most Linux distributions. Change it to your actual user if necessary. You can double check this in your phpinfo:</p> <p><img src="data:image/png;base64,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" alt="www-data user on phpinfo"></p> <h2 id="_3-enable-unix-sockets"><a href="#_3-enable-unix-sockets" class="header-anchor">#</a> 3. Enable UNIX sockets</h2> <p>Add these lines to <code>/etc/memcached.conf</code>:</p> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token comment"># Create unix sock</span>
-s /tmp/memcached.sock

<span class="token comment"># Set permissions to the group</span>
-a 775
</code></pre></div><h2 id="_4-disable-tcp-optional"><a href="#_4-disable-tcp-optional" class="header-anchor">#</a> 4. Disable TCP (optional)</h2> <p>For extra security, disable TCP connections. This prevents accessing it from the outside. Comment these 2 settings on <code>/etc/memcached.conf</code>:</p> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token comment"># Default connection port is 11211</span>
<span class="token comment">#-p 11211</span>

<span class="token comment"># Specify which IP address to listen on. The default is to listen on all IP addresses</span>
<span class="token comment"># This parameter is one of the only security measures that memcached has, so make sure</span>
<span class="token comment"># it's listening on a firewalled interface.</span>
<span class="token comment">#-l 127.0.0.1</span>
</code></pre></div><h2 id="_5-restart-service"><a href="#_5-restart-service" class="header-anchor">#</a> 5. Restart service</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> memcached restart
</code></pre></div><h2 id="_6-configure-joomla"><a href="#_6-configure-joomla" class="header-anchor">#</a> 6. Configure Joomla</h2> <p>At <code>Joomla</code> &gt; <code>Admin</code> &gt; <code>System</code> &gt; <code>Global Configuration</code> &gt; <code>System Tab</code> &gt; <code>Cache Settings</code>:</p> <ul><li><strong>Handler:</strong> <code>Memcached</code></li> <li><strong>Host:</strong> <code>/tmp/memcached.sock</code></li> <li><strong>System Cache:</strong> <code>ON</code></li></ul> <p><img src="/assets/img/joomla-memcached.eeb57b0e.png" alt="Cache Settings on Joomla"></p> <h2 id="_7-avoid-session-issues-by-changing-your-public-secret"><a href="#_7-avoid-session-issues-by-changing-your-public-secret" class="header-anchor">#</a> 7. Avoid session issues by changing your <code>public $secret</code></h2> <p>You are going to experience <strong>session issues</strong> if multiple Joomla instances are running on the same machine.</p> <p>To avoid this, do the following:</p> <ul><li>Open <code>configuration.php</code></li> <li>Change <code>public $secret = 'a unique string';</code></li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// configuration.php</span>
<span class="token keyword">public</span> <span class="token variable">$secret</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'a unique string'</span><span class="token punctuation">;</span>
</code></pre></div><p>Needless to say that &quot;<strong>a unique string</strong>&quot; should be replaced with your own unique string. Joomla's memcached controller uses the <code>$secret</code> value to differentiate between instances so sessions don't get mixed up.</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>Do this step <strong>NOW</strong> even if you have just one Joomla instance installed. This will prevent future issues.</p></div> <h2 id="_8-sessions-with-memcached"><a href="#_8-sessions-with-memcached" class="header-anchor">#</a> 8. Sessions with Memcached</h2> <p>For extra speed, enable Memcached for your Sessions:</p> <p><img src="/assets/img/joomla-memcache2.ff8b1356.png" alt="Session settings page on Joomla"></p> <hr> <h2 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> TROUBLESHOOTING</h2> <p>If you see the following error message, fix it with <strong>step 6</strong> (&quot;<em>avoid session issues</em>&quot;):</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Warning: session_start<span class="token punctuation">(</span><span class="token punctuation">)</span>: Unable to <span class="token function">clear</span> session lock record <span class="token keyword">in</span> /var/www/mysite/staging/libraries/joomla/session/handler/native.php on line <span class="token number">260</span>
Warning: session_start<span class="token punctuation">(</span><span class="token punctuation">)</span>: Failed to <span class="token builtin class-name">read</span> session data: memcached <span class="token punctuation">(</span>path: /tmp/memcached.sock:11211<span class="token punctuation">)</span> <span class="token keyword">in</span> /var/www/mysite/staging/libraries/joomla/session/handler/native.php on line <span class="token number">260</span>
Error: Failed to start application: Failed to start the session
</code></pre></div><p>This is a common issue, especially if you have cloned your website and haven't changed the &quot;secret&quot; variable.</p></div></div> <hr class="my-12" data-v-335698aa> <div data-v-335698aa><h2 class="text-xl md:text-3xl pb-10 text-center" data-v-335698aa>Comments</h2> <!----></div></div> <footer class="py-4 bg-gray-800" data-v-335698aa><p class="text-center text-gray-600 text-xs">Copyright 2022 - Daniel Loureiro</p></footer></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.5632ea00.js" defer></script><script src="/assets/js/3.9e1cc85f.js" defer></script><script src="/assets/js/18.f3523bb9.js" defer></script><script src="/assets/js/22.2ffb8c95.js" defer></script>
  </body>
</html>
